(function(){var c=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["authenticated-header-template"]=c({compiler:[7,">= 4.0.0"],main:function(b,a,c,d,e){return'\t<a title="'+b.escapeExpression(b.lambda(null!=a?a.name:a,a))+'" href="https://www.twitter.com/'+b.escapeExpression(b.lambda(null!=a?a.screen_name:a,a))+'" target="_blank"><img  src="'+b.escapeExpression(b.lambda(null!=a?a.profile_image_url:a,a))+'" /></a>\t\t\t\t'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["body-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'\t\x3c!-- Centered page --\x3e\r\n\t<div id="page">\r\n\t\t<div class="header">\r\n\t\t\t<h1 id="headerTitle">\r\n\t\t\t\t<div></div>\r\n\t\t\t</h1>\r\n\t\t\t<div id="loginContainer" class="loginContainer"></div>\r\n\t\t</div>\r\n\t\t<div class="app" id="home">\r\n\t\t\t<div id="statusMessage" class="startingState" style="display: none">\r\n\t\t\t\t<div class="container">Please wait....</div>\r\n\t\t\t</div>\r\n\t\t\t<div id="timeline" class="startingState" style="display: none">\r\n\t\t\t\t<div class="container">\r\n\t\t\t\t<h2 class="timeLine">\r\n\t\t\t\t\tTimeline <span id="timelineName"></span>\r\n\t\t\t\t</h2>\r\n\t\t\t\t\t<form id="updateStatusForm">\r\n\t\t\t\t\t\t<h2>Tweet a Seecret</h2>\r\n\t\t\t\t\t\t<div class="messageContainer updateCell">\r\n\t\t\t\t\t\t\t<div>Seecret Message</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<textarea name="statusUpdate" id="textarea-statusUpdate"></textarea>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="messageContainer updateCell" id=\'allscaffoldstuff\'>\r\n\t\t\t\t\t\t\t<div>Visible Tweet</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div id="scaffoldingContainer">\r\n\t\t\t\t\t\t\t\t\t<div id="scaffoldsContainer">\r\n\t\t\t\t\t\t\t\t\t\t<div id="scaffoldingEntryContainer0">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>Tweet 1:</span>&nbsp;<input type="text" value="" id="scaffold0" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style="text-align: center;">\r\n\t\t\t\t\t\t\t<div id="scaffoldingWarningContainer"></div>\r\n\t\t\t\t\t\t\t<div id="scaffoldingStatus"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id="submitButtonContainer" style="display: none">\r\n\t\t\t\t\t\t\t<button type="submit" name="updateStatusFormButton" value="Submit">Update Status</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="container">\r\n\t\t\t\t\tEnter a username to view their timeline: <input style="width: 150px;" type="text" name="twitterUser" id="twitterUser" /> <input type="button"\r\n\t\t\t\t\t\tonclick="app.updateUserTimeline($(\'#twitterUser\').val(),true)" value="View timeline" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<P />\r\n\t\t\t\tShow only Seecrets: <input type="checkbox" id="showOnlySeecrets" checked="true"\r\n\t\t\t\t\tonChange="if(app.homeTimeline) {app.updateHomeTimeline(true);}else {app.updateUserTimeline(app.userTimelineId);}" />\r\n\t\t\t\t<div id="status-list" class="status-list"></div>\r\n\t\t\t\t<div id="updateHomeTimelineButtonContianer">\r\n\t\t\t\t\t<input type="button" value="Get older messages" id="getOlderTimelineButton" onClick="app.updateHomeTimeline()" class="button" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id="privateMessages" class="startingState" style="display: none">\r\n\t\t\t\t<h2 class="timeLine">\r\n\t\t\t\t\tDirect Messages\r\n\t\t\t\t</h2>\r\n\t\t\t\t<div style="margin:0 0 10px 0">\r\n\t\t\t\t\t<input type="button" id="newestDirectMessagesButton" value="Check for new" onClick="app.getNewestDirectMessages()" class="button" />\r\n\t\t\t\t\t<input type="button" id="getOlderMessagesButton" value="Get older messages" onClick="app.getOlderDirectMessages()" class="button" style="display:none" />\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="directMessagesLegendContainer" >\r\n\t\t\t\t\t<i class="fa fa-lock" aria-hidden="true" style="font-size:1em;"></i> = encrypted, \r\n\t\t\t\t\t<i class="fa fa-check-square" aria-hidden="true" style="font-size:1em;"></i> = signed<br />\r\n\t\t\t\t\t(Not sure what these mean? Read the <a href="https://www.seecret.net/faq.html" target="_new">FAQ</a>) <br /><br />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="friendsContainer"></div>\r\n\t\t\t\t<div id="directMessages"></div>\r\n\t\t\t</div>\r\n\t\t\t<div id="settings" class="settings startingState" style="display: none">\r\n\t\t\t\t<h2>Settings</h2>\r\n\t\t\t\tNot sure what these options are for? Read the <a href="https://www.seecret.net/faq.html" target="_new">FAQ</a>.\r\n\t\t\t\t<div class="opt">\r\n\t\t\t\t\t<div class="showKeyContainer">\r\n\t\t\t\t\t\t<div class="optTitle">\r\n\t\t\t\t\t\t\t<span>My private key pair</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id="privateKeyCopyarea" style="display: none"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="control">\r\n\t\t\t\t\t\t<span onclick="javascript:app.showCopyPrivateKey(this)" class="button">Show</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="opt">\r\n\t\t\t\t\t<div class="showKeyContainer">\r\n\t\t\t\t\t\t<div class="optTitle">\r\n\t\t\t\t\t\t\t<span>Public keys from contacts</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id="publicKeysDisplayArea" style="display: none"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="control">\r\n\t\t\t\t\t\t<span onclick="javascript:app.showPublicKeys(this)" class="button">Show</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="opt">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class="optTitle">\r\n\t\t\t\t\t\t\t<span>Import a private key</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id="importForm" style="display: none;">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span class="note"></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t\t\t\t<div>Paste key:</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<textarea id="importPrivateKeyText"></textarea>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t\t\t\t<div>Passphrase:</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<input type="text" id="importPrivateKeyPassphrase" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input type="checkbox" id="importPrivateKeyPassphraseCache" /> Save your passphrase locally? <input type="button" value="Import" onClick="app.importPrivateKey()"\r\n\t\t\t\t\t\t\t\t\tclass="button" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="control">\r\n\t\t\t\t\t\t<span onclick="javascript:app.showImportPrivateKey(this)" class="button">Show</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="opt">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class="optTitle">\r\n\t\t\t\t\t\t\t<span>Generate a new private key.</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id="generateForm" style="display: none">\r\n\t\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t\t\t<div>Password:</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<input type="text" id="newPrivateKeyPassphrase2" /> <span id="newPrivateKeyPassphrase2Error"></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input type="checkbox" id="newPrivateKeyPassphrase2Cache" /> Save your password locally? <input type="button" value="Generate new key"\r\n\t\t\t\t\t\t\t\t\tonClick="app.validateNewPrivateKey(\'newPrivateKeyPassphrase2\')" class="button" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="control">\r\n\t\t\t\t\t\t<span onclick="javascript:app.showGeneratePrivateKey(this)" class="button">Show</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="opt">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class="optTitle">\r\n\t\t\t\t\t\t\t<span>Delete my private key.</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id="deleteKeyForm" style="display: none">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>All previous messages based on this private key will be unrecoverable. Forever.</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<input type="button" value="Delete the key" onClick="app.promptDeleteKey()" class="button" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="control">\r\n\t\t\t\t\t\t<span onclick="app.toggleDeleteSettings(this)" class="button">Show</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id="publicKeys" class="startingState" style="display: none"></div>\r\n\t\t\t<div id="hashes" class="startingState" style="display: none">\r\n\t\t\t\t<div class="container" style="" id="hashesContent"></div>\r\n\t\t\t</div>\r\n\t\t\t<div id="about" class="startingState" style="font-size: 1.5em">\r\n\t\t\t\t<div class="container">\r\n\t\t\t\t\t<p />\r\n\t\t\t\t\t\t<br /> Seecret lets you hide invisible messages inside your tweets that are only visible to other users of Seecret.<p />\r\n\t\t\t\t\tSeecret also encrypts your direct messages to followers. <br />\r\n\t\t\t\t\t<br /> <a href="#" onclick="app.loginToTwitter(); return false;">Sign in with Twitter </a>to get started. <br />\r\n\t\t\t\t\t<br /> Read all about Seecret in the <a href="https://www.seecret.net/faq.html" target="_new">FAQ</a>.\r\n\t\t\t\t\t<p />\r\n\t\t\t\t\t<br /> If you are seeing this page at a url other than <a href="https://www.seecret.io">https://www.seecret.io</a>, it means you are using a Seecret mirror site. Read more about Seecret mirror sites and how to\r\n\t\t\t\t\tverify their validity at <a href="https://www.seecret.net/mirror.html" target="_new">https://www.seecret.net/mirror.html</a> <br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div style="font-size: .6em">\r\n\t\t\t\t\t\t<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_new"><img alt="Creative Commons License" style="border-width: 0"\r\n\t\t\t\t\t\t\tsrc="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />\r\n\t\t\t\t\t\t<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource" property="dct:title" rel="dct:type" target="_new">Seecret</span> by <a\r\n\t\t\t\t\t\t\txmlns:cc="http://creativecommons.org/ns#" href="https://www.simpledynamics.net" target="_new" property="cc:attributionName" rel="cc:attributionURL">Simple Dynamics</a> is\r\n\t\t\t\t\t\tlicensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_new">Creative Commons Attribution-NonCommercial-ShareAlike 4.0\r\n\t\t\t\t\t\t\tInternational License</a>.<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://www.seecret.net" target="_new" rel="dct:source">http://www.seecret.net</a>.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\x3c!-- Left panel --\x3e\r\n\t<div style="" id="panelControl" onclick="app.openClosePanel(\'open\')">\r\n\t\t<i id="openTarget"  class="fa fa-bars"></i>\r\n\t</div>\r\n\t<div id="left-panel" class="panel">\r\n\t\t<div id="closeMenu" style="" href="#" onclick="app.openClosePanel(\'close\');" data-icon="alert" class="closePanelControl">\r\n\t\t\t<li id="closeTarget" class="fa fa-close"></li>\r\n\t\t</div>\r\n\t\t<div class="menuLinks">\r\n\t\t\t<a id="timelineButton" style="display: block" href="#timeline" onclick="app.initTimeline();app.setView(app.TIMELINE_VIEW);" class="menuLink">Timeline</a> \r\n\t\t\t<a id="privateMessagesButton" style="display: none" href="#privateMessages" onclick="app.initializeDirectMessagesView();" class="menuLink">Direct Messages</a> \r\n\t\t\t<a id="settingsButton" style="display: block" href="#settings" onclick="app.setView(app.SETTINGS_VIEW);" class="menuLink">Settings</a>\r\n\t\t\t<a id="logoutButton" style="display: block" href="#" onclick="app.logoutFromTwitter();app.setView(app.ABOUT_VIEW);" class="menuLink">Logout</a> \r\n\t\t\t<a id="aboutButton" style="display: block" href="#about" onclick="app.setView(app.ABOUT_VIEW);" class="menuLink">About Seecret</a> \r\n\t\t\t<a id="hashesButton" style="display: block" href="#hashes" onclick="app.setView(app.HASHES_VIEW);" class="menuLink">Verification</a>\r\n\t\t\t<P />\r\n\t\t</div>\r\n\t</div>\r\n\t<div id="overlay" style="display: none">\r\n\t\t<div></div>\r\n\t</div>\r\n'},
useData:!0})})();
(function(){var h=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["conversation-status-template"]=h({compiler:[7,">= 4.0.0"],main:function(f,a,c,g,e){var b,d;return'\t<div id="conversationStatusContainer_'+f.escapeExpression((d=null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"id_str",hash:{},data:e}):d))+'">\r\n\t<div style="display:inline-block;vertical-align:top;margin:0 0.5em 0 0;">\r\n\t\t<img src="'+f.escapeExpression((d=null!=
(d=c.profile_image_url||(null!=a?a.profile_image_url:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"profile_image_url",hash:{},data:e}):d))+'" class="profileImg" />\r\n\t</div>\r\n\t<div style="display:inline-block;vertical-align:top;max-width:80%">\r\n\t\t<div id="conversationInfoDiv_'+f.escapeExpression((d=null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"id_str",hash:{},data:e}):d))+'">\r\n'+(null!=(b=c["if"].call(a,null!=a?a.message_count:
a,{name:"if",hash:{},fn:f.program(1,e,0),inverse:f.program(6,e,0),data:e}))?b:"")+'\t\t\t\r\n\t\t</div>\r\n\t\t<div id="friendKeyContainer_'+f.escapeExpression((d=null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"id_str",hash:{},data:e}):d))+'">\r\n'+(null!=(b=c["if"].call(a,null!=a?a.sentKey:a,{name:"if",hash:{},fn:f.program(8,e,0),inverse:f.program(11,e,0),data:e}))?b:"")+'\t\t</div>\r\n\t</div>\r\n\t<div id="friendPublicKeyDetails_'+f.escapeExpression((d=
null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"id_str",hash:{},data:e}):d))+'" style="padding:0.5em 0">\r\n'+(null!=(b=c["if"].call(a,null!=a?a.publicKey:a,{name:"if",hash:{},fn:f.program(16,e,0),inverse:f.noop,data:e}))?b:"")+"\t</div>\r\n\t</div>\t\t\r\n"},1:function(f,a,c,g,e){var b,d;return'\t\t\t<span id="messageCount_'+f.escapeExpression((d=null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"id_str",
hash:{},data:e}):d))+'">'+f.escapeExpression((d=null!=(d=c.message_count||(null!=a?a.message_count:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"message_count",hash:{},data:e}):d))+'</span> messages from <span style="font-weight:bold;">'+f.escapeExpression((d=null!=(d=c.screen_name||(null!=a?a.screen_name:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"screen_name",hash:{},data:e}):d))+"</span>, last one "+f.escapeExpression((c.tweetShortDate||a&&a.tweetShortDate||c.helperMissing).call(a,
null!=(b=null!=a?a.most_recent:a)?b.created_at:b,{name:"tweetShortDate",hash:{},data:e}))+"\r\n"+(null!=(b=c["if"].call(a,null!=a?a.newMessages:a,{name:"if",hash:{},fn:f.program(2,e,0),inverse:f.noop,data:e}))?b:"")+(null!=(b=c["if"].call(a,null!=a?a.XunencryptedMessages:a,{name:"if",hash:{},fn:f.program(4,e,0),inverse:f.noop,data:e}))?b:"")+"\t\t\t\t\t\t \r\n\t\t\t<br/><a href=\"javascript:app.toggleFriendMessages('"+f.escapeExpression((d=null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,
"function"===typeof d?d.call(a,{name:"id_str",hash:{},data:e}):d))+'\',this.id)" id="friendMessagesToggleLink_'+f.escapeExpression((d=null!=(d=c.id_str||(null!=a?a.id_str:a))?d:c.helperMissing,"function"===typeof d?d.call(a,{name:"id_str",hash:{},data:e}):d))+'">show conversation</a>\r\n'},2:function(f,a,c,g,e){return'\t\t\t\t\t<img src="https://cdn.rawgit.com/simpledynamics/seecret_app/e449e723f317fce6866a09c016d36acddaaac9d6/src/main/resources/public/img/new-icon.png" class="dmIconNew" alt="New" title="New" />\r\n'},
4:function(f,a,c,g,e){var b;return'\t\t\t\t<br/><span class="undecryptedMessagesInfo">Some messages from '+f.escapeExpression((b=null!=(b=c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+' could not be decrypted. Read the <a href="https://www.seecret.net/faq.html" target="_new">FAQ</a> to understand more.</span>\r\n'},6:function(f,a,c,g,e){var b;return"\t\t\tNo Seecret messages from "+f.escapeExpression((b=null!=(b=
c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+" \r\n"},8:function(f,a,c,g,e){var b;return null!=(b=c.unless.call(a,null!=a?a.publicKey:a,{name:"unless",hash:{},fn:f.program(9,e,0),inverse:f.noop,data:e}))?b:""},9:function(f,a,c,g,e){var b;return'\t\t\t\t\x3c!-- user has sent their key to this follower but has not received a public key in return.  TODO:  make this a key request --\x3e\r\n\t\t\t\t<input type=button value="Invite '+
f.escapeExpression((b=null!=(b=c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+'" onClick="app.keyRequest('+f.escapeExpression((b=null!=(b=c.id_str||(null!=a?a.id_str:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",hash:{},data:e}):b))+')"/>\r\n\t\t\t\t(You may be seeing this because you are using a new mirror site or a different device.  Read more in the <a href="https://www.seecret.net/faq.html" target="_new">FAQ</a>) \r\n'},
11:function(f,a,c,g,e){var b;return null!=(b=c["if"].call(a,null!=a?a.publicKey:a,{name:"if",hash:{},fn:f.program(12,e,0),inverse:f.program(14,e,0),data:e}))?b:""},12:function(f,a,c,g,e){var b;return"\t\t\t\t\x3c!-- user has received this follower's public key but has not sent their own public key in response --\x3e\r\n\t\t\t\t<br/>"+f.escapeExpression((b=null!=(b=c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+' wants to message you with Seecret.  <input type=button value="Allow" onClick="app.invite('+
f.escapeExpression((b=null!=(b=c.id_str||(null!=a?a.id_str:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",hash:{},data:e}):b))+',true)"/>\r\n'},14:function(f,a,c,g,e){var b;return'\t\t\t\t\x3c!-- user has not sent or received public keys with this follower --\x3e\r\n\t\t\t\t<input type=button value="Invite '+f.escapeExpression((b=null!=(b=c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+'" onClick="app.invite('+
f.escapeExpression((b=null!=(b=c.id_str||(null!=a?a.id_str:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",hash:{},data:e}):b))+')"/>.  \r\n\t\t\t\t<br/>You can send '+f.escapeExpression((b=null!=(b=c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+" messages once they accept your invite\r\n"},16:function(f,a,c,g,e){var b;return'\t\t<div id="friendMessageForm_'+f.escapeExpression((b=null!=(b=c.id_str||
(null!=a?a.id_str:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",hash:{},data:e}):b))+'" style="display:none">\r\n\t\t\t<textarea id="directMessage_'+f.escapeExpression((b=null!=(b=c.id_str||(null!=a?a.id_str:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",hash:{},data:e}):b))+'" class="dmField"></textarea>\r\n\t\t\t<input type=button onClick="app.prepareDirectMessage(\''+f.escapeExpression((b=null!=(b=c.id_str||(null!=a?a.id_str:a))?b:c.helperMissing,"function"===
typeof b?b.call(a,{name:"id_str",hash:{},data:e}):b))+'\')" value="Send message" class="button" />\r\n\t\t\t<br/>Not sure if '+f.escapeExpression((b=null!=(b=c.screen_name||(null!=a?a.screen_name:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"screen_name",hash:{},data:e}):b))+' has been allowed to message you?  <input type=button class="button" onClick="app.invite('+f.escapeExpression((b=null!=(b=c.id_str||(null!=a?a.id_str:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",
hash:{},data:e}):b))+',true)" value="Allow"/>\r\n\t\t</div>\r\n'},useData:!0})})();
(function(){var h=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["conversation-template"]=h({compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var g,a;return'<div class="friendDetailsContainer" id="friendDetails_'+d.escapeExpression((a=null!=(a=c.id_str||(null!=b?b.id_str:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"id_str",hash:{},data:e}):a))+'">\r\n'+(null!=(g=d.invokePartial(f["conversation-status-template"],b,{name:"conversation-status-template",data:e,indent:"\t",
helpers:c,partials:f,decorators:d.decorators}))?g:"")+'\t<div id="friendMessages_'+d.escapeExpression((a=null!=(a=c.id_str||(null!=b?b.id_str:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"id_str",hash:{},data:e}):a))+'" style="display:none" class="friendMessages"></div>\r\n</div>\r\n'},usePartial:!0,useData:!0})})();
(function(){var g=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["conversations-template"]=g({compiler:[7,">= 4.0.0"],main:function(a,b,e,f,d){var c;return(null!=(c=e.blockHelperMissing.call(b,a.lambda(b,b),{name:".",hash:{},fn:a.program(1,d,0),inverse:a.noop,data:d}))?c:"")+"\r\n"},1:function(a,b,e,f,d){var c;return null!=(c=a.invokePartial(f["conversation-template"],b,{name:"conversation-template",data:d,helpers:e,partials:f,decorators:a.decorators}))?c:""},usePartial:!0,useData:!0})})();
(function(){var h=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["direct-message-breadcrumb-template"]=h({compiler:[7,">= 4.0.0"],main:function(d,a,e,g,f){var c;return'\t\t\t<div style="margin:12px 0">\r\n'+(null!=(c=e["if"].call(a,null!=a?a.name:a,{name:"if",hash:{},fn:d.program(1,f,0),inverse:d.noop,data:f}))?c:"")+(null!=(c=e["if"].call(a,null!=a?a.sentKeyWarning:a,{name:"if",hash:{},fn:d.program(4,f,0),inverse:d.noop,data:f}))?c:"")+"\t\t\t</div>\r\n"},1:function(d,a,e,g,
f){var c,b;return(null!=(c=e["if"].call(a,null!=a?a.publicKey:a,{name:"if",hash:{},fn:d.program(2,f,0),inverse:d.noop,data:f}))?c:"")+"\t\t\t\t<br/>Not sure if "+d.escapeExpression((b=null!=(b=e.name||(null!=a?a.name:a))?b:e.helperMissing,"function"===typeof b?b.call(a,{name:"name",hash:{},data:f}):b))+' has your public key?  <input type=button onClick="app.initiateDirectMessages('+d.escapeExpression((b=null!=(b=e.id_str||(null!=a?a.id_str:a))?b:e.helperMissing,"function"===typeof b?b.call(a,{name:"id_str",
hash:{},data:f}):b))+',true)" value="send it"/>  ('+d.escapeExpression((b=null!=(b=e.name||(null!=a?a.name:a))?b:e.helperMissing,"function"===typeof b?b.call(a,{name:"name",hash:{},data:f}):b))+" can't send you encryted messages until you have sent them your key)\r\n"},2:function(d,a,e,g,f){var c,b;return"\t\t\t\t\t\x3c!--<br/>"+d.escapeExpression((b=null!=(b=e.name||(null!=a?a.name:a))?b:e.helperMissing,"function"===typeof b?b.call(a,{name:"name",hash:{},data:f}):b))+" sent you an encryption key on "+
d.escapeExpression(d.lambda(null!=(c=null!=a?a.publicKey:a)?c.displayDate:c,a))+". --\x3e\r\n"},4:function(d,a,e,g,f){var c;return"\t\t\t\t<br/>Your current public key is newer than the key you last sent to "+d.escapeExpression((c=null!=(c=e.name||(null!=a?a.name:a))?c:e.helperMissing,"function"===typeof c?c.call(a,{name:"name",hash:{},data:f}):c))+". \r\n"},useData:!0})})();
(function(){var d=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["direct-message-button-template"]=d({compiler:[7,">= 4.0.0"],main:function(e,b,c,d,f){var a;return" \t\t\t<input type=button onClick=\"app.setDirectMessageReceiver('"+e.escapeExpression((a=null!=(a=c.id_str||(null!=b?b.id_str:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"id_str",hash:{},data:f}):a))+"','"+e.escapeExpression((a=null!=(a=c.screen_name||(null!=b?b.screen_name:b))?a:c.helperMissing,"function"===
typeof a?a.call(b,{name:"screen_name",hash:{},data:f}):a))+'\');app.setView(app.DIRECT_MESSAGES_VIEW);" value="Message"/>'},useData:!0})})();
(function(){var c=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["direct-message-friend-name"]=c({compiler:[7,">= 4.0.0"],main:function(c,b,d,f,e){var a;return'\t\t\t\t<div class="breadCrumbSeparator"><li class="fa fa-long-arrow-right"></li></div>  from '+c.escapeExpression((a=null!=(a=d.name||(null!=b?b.name:b))?a:d.helperMissing,"function"===typeof a?a.call(b,{name:"name",hash:{},data:e}):a))+'  (<a href="javascript:app.showAllDirectMessages()">show all</a>)\r\n'},useData:!0})})();
(function(){var h=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["direct-message-template"]=h({compiler:[7,">= 4.0.0"],main:function(d,a,c,g,f){var e,b;return'\t\t\t<div id="directMessageForm">\r\n\t\t\t\t\t\tSend direct message to <span id="directMessageTarget">'+d.escapeExpression((b=null!=(b=c.receiverName||(null!=a?a.receiverName:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"receiverName",hash:{},data:f}):b))+'</span><p/>\r\n\t\t\t\t\t\t<textarea id="directMessage"></textarea>\r\n\t\t\t\t\t\t<input type=hidden id="directMessageReceiverId" value="'+
d.escapeExpression((b=null!=(b=c.receiverId||(null!=a?a.receiverId:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"receiverId",hash:{},data:f}):b))+'" />\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<input type=button onClick="app.prepareDirectMessage(\''+d.escapeExpression((b=null!=(b=c.receiverId||(null!=a?a.receiverId:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"receiverId",hash:{},data:f}):b))+'\')" value="Send message"/>\r\n\t\t\t\t\t\t<p/>\r\n\t\t\t\t<br/>Not sure if '+d.escapeExpression((b=
null!=(b=c.receiverName||(null!=a?a.receiverName:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"receiverName",hash:{},data:f}):b))+' has your public key?  <input type=button onClick="app.initiateDirectMessages('+d.escapeExpression((b=null!=(b=c.receiverId||(null!=a?a.receiverId:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"receiverId",hash:{},data:f}):b))+',true)" value="send it"/>  ('+d.escapeExpression((b=null!=(b=c.receiverName||(null!=a?a.receiverName:a))?b:c.helperMissing,
"function"===typeof b?b.call(a,{name:"receiverName",hash:{},data:f}):b))+" can't send you encryted messages until you have sent them your key)\r\n"+(null!=(e=c["if"].call(a,null!=a?a.publicKey:a,{name:"if",hash:{},fn:d.program(1,f,0),inverse:d.noop,data:f}))?e:"")+(null!=(e=c["if"].call(a,null!=a?a.sentKeyWarning:a,{name:"if",hash:{},fn:d.program(3,f,0),inverse:d.noop,data:f}))?e:"")+"\t\t\t</div>\r\n"},1:function(d,a,c,g,f){var e,b;return"\t\t\t\t<br/>"+d.escapeExpression((b=null!=(b=c.receiverName||
(null!=a?a.receiverName:a))?b:c.helperMissing,"function"===typeof b?b.call(a,{name:"receiverName",hash:{},data:f}):b))+" sent you an encryption key on "+d.escapeExpression(d.lambda(null!=(e=null!=a?a.publicKey:a)?e.displayDate:e,a))+".\r\n"},3:function(d,a,c,g,f){var e;return"\t\t\t\t<br/>Your current public key is newer than the key you last sent to "+d.escapeExpression((e=null!=(e=c.receiverName||(null!=a?a.receiverName:a))?e:c.helperMissing,"function"===typeof e?e.call(a,{name:"receiverName",hash:{},
data:f}):e))+". \r\n"},useData:!0})})();
(function(){var h=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["direct-messages-template"]=h({compiler:[7,">= 4.0.0"],main:function(c,a,e,f,d){var b;return null!=(b=e.blockHelperMissing.call(a,c.lambda(a,a),{name:".",hash:{},fn:c.program(1,d,0),inverse:c.noop,data:d}))?b:""},1:function(c,a,e,f,d){var b;return'\t\t\t\t\t<div class="container dmMessageDiv dm_'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.sender:a)?b.id_str:b,a))+'">\r\n\t\t\t\t\t\t<div class="directMessageContainer">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tMessage from\r\n\t\t\t\t\t\t\t\t<span><a href="javascript:app.setDirectMessageReceiver(\''+
c.escapeExpression(c.lambda(null!=(b=null!=a?a.sender:a)?b.id_str:b,a))+"','"+c.escapeExpression(c.lambda(null!=(b=null!=a?a.sender:a)?b.screen_name:b,a))+"')\">"+c.escapeExpression(c.lambda(null!=(b=null!=a?a.sender:a)?b.screen_name:b,a))+"</a>  "+c.escapeExpression((e.tweetShortDate||a&&a.tweetShortDate||e.helperMissing).call(a,null!=a?a.created_at:a,{name:"tweetShortDate",hash:{},data:d}))+"  \r\n"+(null!=(b=e["if"].call(a,null!=a?a.decryptionSuccessful:a,{name:"if",hash:{},fn:c.program(2,d,0),
inverse:c.noop,data:d}))?b:"")+(null!=(b=e["if"].call(a,null!=a?a.signed:a,{name:"if",hash:{},fn:c.program(4,d,0),inverse:c.noop,data:d}))?b:"")+(null!=(b=e["if"].call(a,null!=a?a["new"]:a,{name:"if",hash:{},fn:c.program(6,d,0),inverse:c.noop,data:d}))?b:"")+'\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<div class="directMessage">'+(null!=(b=e["if"].call(a,null!=a?a.decryptionSuccessful:a,{name:"if",hash:{},fn:c.program(8,d,0),inverse:c.program(10,d,0),data:d}))?b:"")+"</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n"},
2:function(c,a,e,f,d){return'\t\t\t\t\t\t\t\t\t\x3c!-- <img src="https://cdn.rawgit.com/simpledynamics/seecret_app/d43b1cab4428ce1e945c2cfcdcab4243b1258284/src/main/resources/public/img/encrypted.png" class="dmIcon" alt="Encrypted" title="Encrypted" /> --\x3e\r\n\t\t\t\t\t\t\t\t\t<i class="fa fa-lock" aria-hidden="true" style="font-size:1em;" title="Encrypted"></i>\r\n'},4:function(c,a,e,f,d){return'\t\t\t\t\t\t\t\t\t\x3c!-- <img src="https://cdn.rawgit.com/simpledynamics/seecret_app/d43b1cab4428ce1e945c2cfcdcab4243b1258284/src/main/resources/public/img/signed.jpg" class="dmIcon" alt="Signed" title="Signed" /> --\x3e\r\n\t\t\t\t\t\t\t\t\t<i class="fa fa-check-square" aria-hidden="true" style="font-size:1em;" title="Signed"></i>\r\n'},
6:function(c,a,e,f,d){return'\t\t\t\t\t\t\t\t\t\x3c!-- <img src="https://cdn.rawgit.com/simpledynamics/seecret_app/e449e723f317fce6866a09c016d36acddaaac9d6/src/main/resources/public/img/new-icon.png" class="dmIconNew" alt="New" title="New" /> --\x3e\r\n\t\t\t\t\t\t\t\t\t<i class="fa fa-commenting-o" aria-hidden="true" style="font-size:1em;" title="New"></i>\r\n'},8:function(c,a,e,f,d){var b;return"\r\n\t\t\t\t\t\t\t\t"+c.escapeExpression((b=null!=(b=e.seecret||(null!=a?a.seecret:a))?b:e.helperMissing,
"function"===typeof b?b.call(a,{name:"seecret",hash:{},data:d}):b))+"\r\n"},10:function(c,a,e,f,d){var b,g;return"\t\t\t\t\t\t\t\t"+(null!=(b=(g=null!=(g=e.text||(null!=a?a.text:a))?g:e.helperMissing,"function"===typeof g?g.call(a,{name:"text",hash:{},data:d}):g))?b:"")+"\r\n\t\t\t\t\t\t\t\t"},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["hashes-not-found-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'\t\t<h2 class="timeLine">File hashes</h2>\r\n\t\t<br/><br/>\r\n\t\t<span style="color:red;font-size:1.5em">WARNING</span>: \r\n\t\t<div style="font-weight:bold;font-size:1.5em;display:inline;">UNABLE to load or process the file hashes.txt</div>\r\n\t\t<p/><br/><br/>\r\n\t\tThis means that something is wrong with this installation of Seecret and the contents may have been compromised.  <span style="font-weight:bold">Do not use this app.</span><p/><br/>\r\n\t\t<p/>\r\n\t\tRead more at <a href="https://www.seecret.net" target="_new">https://www.seecret.net</a> to learn about Seecret mirror sites and how to validate them.'},
useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["hashes-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<h2 class="timeLine">File hashes</h2>\r\n<br/>\r\nYou are using Seecret version 1.0\r\n<br/><br/>\r\n<div style="font-weight:bold;font-size:1.3em">If you are using the direct messages feature in Seecret, please pay close attention to the following information</div>\r\n<p/><br/>\r\nYou can verify the integrity of this instance of Seecret by comparing the SHA384 hash of index.html (this page).\r\n<ul class="hashesList">\r\n<li><b>SHA384(index.html)= 88633bf9b4a8be5d1f49ff90e8a70040af01978f94b2b44c52c205bbc02783cf8cff4250ba61d41f4f4eb6a2a5ca0966</b></li>\r\n</ul>\r\n<p/><br/><br/>\r\nThis hash value is also found at the following locations so you can cross-verify:<p/>\r\n<ul class="hashesLocationsList">\r\n<li style="padding:5px;"><a href="https://www.seecret.net/mirror.html">https://www.seecret.net/mirror.html</a></li>\r\n<li style="padding:5px;"><a href="https://github.com/simpledynamics/seecret_app">https://github.com/simpledynamics/seecret_app</a></li>\t\t\r\n<li style="padding:5px;"><a href="https://www.twitter.com/seecretapp">https://www.twitter.com/seecretapp</a></li>\r\n<li style="padding:5px;"><a href="https://www.facebook.com/Seecret-1780007618900168/info?tab=page_info">https://www.facebook.com/Seecret-1780007618900168/</a></li>\r\n<li style="padding:5px;"><a href="https://www.simpledynamics.net/seecret_hashes.html">https://www.simpledynamics.net/seecret_hashes.html</a></li>\r\n<li style="padding:5px;">More to\u200d\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200d\u200c\u200c\u200b\u200c\u200b\u200b\u200b\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200c\u200b\u200b\u200b\u200b\u200d\u200c\u200c\u200c\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200d\u200c\u200b\u200c\u200c\u200c\u200c\u200d\u200c\u200b\u200c\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200b\u200b\u200c\u200d\u200c\u200c\u200c\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200b\u200c\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200b\u200b\u200c\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200b\u200c\u200b\u200b\u200b\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200c\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200b\u200d\u200c\u200b\u200c\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200c\u200b\u200c\u200d\u200c\u200b\u200c\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200b\u200c\u200d\u200c\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200b\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200c\u200d\u200c\u200c\u200c\u200b\u200b\u200c\u200b\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200c\u200d\u200c\u200c\u200c\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200b\u200c\u200d\u200c\u200c\u200c\u200b\u200b\u200c\u200b\u200d\u200c\u200b\u200c\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200d\u200c\u200c\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200b\u200d\u200c\u200c\u200c\u200b\u200b\u200b\u200d\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200b\u200b\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200b\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200c\u200b\u200b\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200c\u200b\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200b\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200d\u200c\u200c\u200c\u200b\u200b\u200c\u200d\u200c\u200c\u200b\u200b\u200b\u200c\u200b\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200d\u200c\u200c\u200b\u200b\u200c\u200c\u200d\u200c\u200c\u200b\u200c\u200c\u200b\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200d\u200c\u200c\u200c\u200b\u200b\u200b\u200d\u200c\u200c\u200b\u200c\u200c\u200c\u200d\u200d\u200d come..</li>\r\n</ul>\r\n<p/><br/><br/>\r\nAll scripts, styles, and images are served via public CDNs like <a href="https://cdnjs.com" target="_new">cdnjs.com</a> or <a href="http://rawgit.com/" target="_new">rawgit.com</a> . In addition we provide <a href="https://www.w3.org/TR/SRI/" target="_new">subresource integrity hashes</a> on all our script and link tags calculated with a public <a href="https://www.srihash.org/" target="_new">SRI Hash generator</a>.   Subresource Integrity is an important security feature and we encourage you to <a href="http://lmgtfy.com/?q=Subresource+Integrity" target="_new">read up on it</a> and <a href="http://w3c-test.org/subresource-integrity/subresource-integrity.sub.html" target="_new">test your browser</a> for support.\r\n<p/><br/>\r\nYou can also follow <a href="https://twitter.com/seecretapp" target="_new">Seecret on Twitter</a> for any news about compromised Seecret mirrors.  Read more at <a href="https://www.seecret.net/mirror.html" target="_new">https://www.seecret.net/mirror.html</a><p/><br/>\r\n\r\n'},
useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["no-more-direct-messages-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div style="font-weight:bold"><br/>You have reached the oldest message that the Twitter platform allows you to retrieve from another app.  You must use the twitter app to get older messages.<br/></div><br/><br/>'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["no-more-timeline-message-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div style="font-weight:bold"><br/>You have reached the very first message of this timeline.  There are no more.<br/></div>'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["no-seecrets-in-direct-messages-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div style="font-weight:bold">There were no Seecrets found in the last 200 direct messages.</div>'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["no-seecrets-in-timeline-segment-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div style="font-weight:bold">There were no Seecrets found in the last 200 tweets in the timeline.</div>'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["private-key-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'\t\t\t<div id="privateKeyManager">\r\n\t\t\t\tNo private key.  (You either deleted it or the initial gen failed).  Go to the <a href="javascript:app.setView(app.SETTINGS_VIEW)">Settings</a> and regenerate your private key to activate direct messaging on Seecret.  \r\n\t\t\t</div>\r\n'},useData:!0})})();
(function(){var f=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["public-key-pending-template"]=f({compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var a;return'\t\t\t\t<div id="publicKeyManager" class="container">\r\n\t\t\t\t'+d.escapeExpression((a=null!=(a=c.receiver_name||(null!=b?b.receiver_name:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"receiver_name",hash:{},data:e}):a))+" has not yet connected with you over Seecret.  Once they install Seecret you can both send secure encrypted direct messages.<br/>  \r\n\t\t\t\tYou sent "+
d.escapeExpression((a=null!=(a=c.receiver_name||(null!=b?b.receiver_name:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"receiver_name",hash:{},data:e}):a))+" an invite on "+d.escapeExpression((a=null!=(a=c.invite_date||(null!=b?b.invite_date:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"invite_date",hash:{},data:e}):a))+' <span style="font-style:italic">from this device</span>.  You can resend the invite if you like.  <span id="sendPublicKeyButtonContainer"><input type=button id="sendPublicKeyButton" value="Send it" onClick="app.initiateDirectMessages('+
d.escapeExpression((a=null!=(a=c.receiver_id||(null!=b?b.receiver_id:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"receiver_id",hash:{},data:e}):a))+',true)"/></span>\r\n\t\t\t\t</div>\r\n'},useData:!0})})();
(function(){var f=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["public-key-template"]=f({compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var a;return'\t\t\t\t<div id="publicKeyManager" class="container">\r\n\t\t\t\t\t<input type=button value="Invite '+d.escapeExpression((a=null!=(a=c.receiver_name||(null!=b?b.receiver_name:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"receiver_name",hash:{},data:e}):a))+'" onClick="app.initiateDirectMessages('+d.escapeExpression((a=
null!=(a=c.receiver_id||(null!=b?b.receiver_id:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"receiver_id",hash:{},data:e}):a))+')"/>.  \r\n\t\t\t\t\t<br/>You can send '+d.escapeExpression((a=null!=(a=c.receiver_name||(null!=b?b.receiver_name:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"receiver_name",hash:{},data:e}):a))+" messages once they accept your invite.\r\n\t\t\t\t</div>\r\n   "},useData:!0})})();
(function(){var f=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["public-keys-template"]=f({compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var a;return null!=(a=c.each.call(b,null!=b?b.keys:b,{name:"each",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?a:""},1:function(d,b,c,f,e){var a;return'\t\t\t\t<div class="keyDisplayContainer formRow">\r\n\t\t\t\t\tFrom <a href="javascript:app.initializeDirectMessageView()">'+d.escapeExpression((a=null!=(a=c.screen_name||(null!=b?
b.screen_name:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"screen_name",hash:{},data:e}):a))+"</a> sent on "+d.escapeExpression((a=null!=(a=c.displayDate||(null!=b?b.displayDate:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"displayDate",hash:{},data:e}):a))+'.\r\n\t\t\t\t\t<p class="keyDisplay" id="keyDisplay_'+d.escapeExpression((a=null!=(a=c.id_str||(null!=b?b.id_str:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"id_str",hash:{},data:e}):a))+'">'+d.escapeExpression((a=
null!=(a=c.key||(null!=b?b.key:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"key",hash:{},data:e}):a))+"</p>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<button onClick=\"app.copySenderPublicKeyToClipboard('"+d.escapeExpression((a=null!=(a=c.id_str||(null!=b?b.id_str:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"id_str",hash:{},data:e}):a))+"')\">Copy to clipboard</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br/><br/>\r\n"},useData:!0})})();
(function(){var c=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["scaffold-status-good-template"]=c({compiler:[7,">= 4.0.0"],main:function(c,b,d,f,e){var a;return'\t\t\t<span>Message is <span style="color:#2BD618;font-weight:bold">good</span> to send.  You have room for <span style="font-weight:bold">'+c.escapeExpression((a=null!=(a=d.availableCharacters||(null!=b?b.availableCharacters:b))?a:d.helperMissing,"function"===typeof a?a.call(b,{name:"availableCharacters",hash:{},data:e}):
a))+"</span> more characters.</span>"},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["scaffold-status-incomplete-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'\t\t\t<span style="color:red;font-weight:bold">NOT READY</span>\r\n\t\t    Still need to add a visible tweet of at least two characters to hide Seecret message inside.\r\n'},useData:!0})})();
(function(){var c=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["scaffold-status-spillover-template"]=c({compiler:[7,">= 4.0.0"],main:function(c,b,d,f,e){var a;return'\t\t<span style="color:red;font-weight:bold">NOT READY</span>\r\n\t\tYou can either reduce the message length by <span style="font-weight:bold">'+c.escapeExpression((a=null!=(a=d.spillover||(null!=b?b.spillover:b))?a:d.helperMissing,"function"===typeof a?a.call(b,{name:"spillover",hash:{},data:e}):a))+'</span> \r\n\t\t<span id="addAnotherScaffoldButton"> or <button onClick="app.newVisibleMessageField()" class="addMoreButton">add another visible tweet</button></span>.\r\n'},
useData:!0})})();
(function(){var f=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["scaffold-template"]=f({compiler:[7,">= 4.0.0"],main:function(d,b,c,f,e){var a;return'\t\t\t<div id="scaffoldingEntryContainer'+d.escapeExpression((a=null!=(a=c.scaffoldId||(null!=b?b.scaffoldId:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"scaffoldId",hash:{},data:e}):a))+'"><span>Tweet '+d.escapeExpression((a=null!=(a=c.scaffoldCount||(null!=b?b.scaffoldCount:b))?a:c.helperMissing,"function"===typeof a?
a.call(b,{name:"scaffoldCount",hash:{},data:e}):a))+':</span>  <input type="text" value="'+d.escapeExpression((a=null!=(a=c.val||(null!=b?b.val:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"val",hash:{},data:e}):a))+'" onKeyUp="app.processScaffoldField('+d.escapeExpression((a=null!=(a=c.scaffoldId||(null!=b?b.scaffoldId:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"scaffoldId",hash:{},data:e}):a))+');app.processScaffolding()" id="scaffold'+d.escapeExpression((a=null!=(a=
c.scaffoldId||(null!=b?b.scaffoldId:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"scaffoldId",hash:{},data:e}):a))+'" /><div id="scaffoldRemover'+d.escapeExpression((a=null!=(a=c.scaffoldId||(null!=b?b.scaffoldId:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"scaffoldId",hash:{},data:e}):a))+'" onClick="app.removeScaffold('+d.escapeExpression((a=null!=(a=c.scaffoldId||(null!=b?b.scaffoldId:b))?a:c.helperMissing,"function"===typeof a?a.call(b,{name:"scaffoldId",hash:{},data:e}):
a))+')" title="Remove" class="removeButton"><i class="fa fa-trash-o"></i></div></div>\r\n'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["scaffolds-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<div id="scaffoldingEntryContainer0"><span>Message 1:</span>&nbsp<input type=text value="" onKeyUp="app.processScaffoldField(0);app.processScaffolding()" id="scaffold0" /></div>\t\t\t\t\t\t\t\t\t\t\r\n'},useData:!0})})();
var app={TIMELINE_VIEW:"timeline",SETTINGS_VIEW:"settings",DIRECT_MESSAGES_VIEW:"privateMessages",PUBLIC_KEYS_VIEW:"publicKeys",STATUS_MESSAGE_VIEW:"statusMessage",ABOUT_VIEW:"about",HASHES_VIEW:"hashes",oauthResult:null,doScroll:!0,activeUser:{},NUM_DM:200,publicKeyStartRegex:/^\s*-----BEGIN PGP PUBLIC KEY BLOCK-----\s/,publicKeyEndRegex:/\s-----END PGP PUBLIC KEY BLOCK-----\s*$/,pgpMessageStartRegex:/^\s*-----BEGIN PGP MESSAGE-----/,pgpMessageEndRegex:/\s-----END PGP MESSAGE-----\s*$/,dmPostData:{},
dmMaxId:null,dmSinceId:null,passphrase:null,hasFirstDirectMessage:!1,joinMessage:"I'm using Seecret to send encrypted direct messages over Twitter. Try it with me! Just go to https://www.seecret.net",sendingDirectMessage:!1,postedDirectMessageId:null,directMessagesToPost:null,directMessageCount:0,maxId:null,lastId:null,homeTimeline:!0,userTimelineId:null,httpsReplaceRegex:/^http:/,postCompleteCount:0,postCompleteTarget:0,timers:{},privateKeyUpdateStatus:{},refreshActiveUserTotal:function(){if(app.activeUser){var a=
app.getObject("privateKey-"+app.activeUser.user.id_str);app.activeUser.privateKey=a;a=app.getObject("publicKey-"+app.activeUser.user.id_str);app.activeUser.publicKey=a;a=app.getObject("publicKeys-"+app.activeUser.user.id_str);app.activeUser.publicKeys=a;a=app.getObject("keyOptions-"+app.activeUser.user.id_str);app.activeUser.keyOptions=a;a=app.getObject("sentPublicKeys-"+app.activeUser.user.id_str);app.activeUser.sentPublicKeys=a;app.refreshActiveUserDMSenders()}},refreshActiveUserDMSenders:function(a){a=
app.getObject("dmSenders-"+app.activeUser.user.id_str);app.activeUser.dmSenders=a},initialize:function(){app.unauthenticatedUI();app.initOauth()},loginToTwitter:function(){OAuth.popup("twitter",{options:{cache:!0}}).done(function(a){console.log("oauth done!");app.oauthResult=a;app.saveOauth();app.updateOauthUserInfo()}).fail(function(a){console.log(JSON.stringify(a));alert("Error logging into Twitter.  Please try again");app.unauthenticatedUI()})},logoutFromTwitter:function(){app.oauthResult=null;
app.lastProcessedStatusId=null;app.lastProcessedMessageId=null;app.dmMaxId=null;app.postedDirectMessageId=null;app.directMessagesToPost=null;app.directMessageCount=null;app.maxId=null;app.activeUser={};app.lastId=null;app.password=null;app.postCompleteCount=0;app.postCompleteTarget=0;app.deleteSavedItem("user");localStorage.removeItem("oauth_token");localStorage.removeItem("oauth_token_secret");app.hideAllViews();app.unauthenticatedUI()},initOauth:function(){OAuth.initialize(oauthio_key.key);null==
app.oauthResult&&app.loadOauth();app.updateOauthUserInfo()},saveOauth:function(){localStorage.setItem("oauth_token",app.oauthResult.oauth_token);localStorage.setItem("oauth_token_secret",app.oauthResult.oauth_token_secret)},loadOauth:function(){var a=localStorage.getItem("oauth_token"),b=localStorage.getItem("oauth_token_secret");if(null==a||null==b)return null;app.oauthResult=OAuth.create("twitter",{oauth_token:a,oauth_token_secret:b})},updateOathUserInfoComplete:function(a){null!=app.activeUser&&
null!=app.activeUser.user&&null!=app.activeUser.user.id_str&&null==app.activeUser.privateKey?(app.hideAllViews(),$("#"+app.STATUS_MESSAGE_VIEW).show(),app.generatePrivateKeyPair(app.generatePassword(),!0,function(){app.updateUIBasedUponOauthResult()})):app.updateUIBasedUponOauthResult()},updateOauthUserInfo:function(){null!=app.oauthResult?app.oauthResult.me().done(function(a){app.activeUser.user=a.raw;app.refreshActiveUserTotal();app.updateOathUserInfoComplete(a)}).fail(function(a){alert("There was an error logging you into Twitter.  Please reload the page and try again.")}):
app.updateOathUserInfoComplete()},updateUIBasedUponOauthResult:function(){if(null!=app.oauthResult)switch(app.authenticatedUI(),app.maxId=null,location.hash){case "#timeline":app.updateHomeTimeline();app.setView(app.TIMELINE_VIEW);break;case "#privateMessages":app.initializeDirectMessagesView();break;case "#settings":app.setView(app.SETTINGS_VIEW);break;case "#about":app.setView(app.ABOUT_VIEW);break;case "#hashes":app.setView(app.HASHES_VIEW);break;default:app.updateHomeTimeline(),app.setView(app.TIMELINE_VIEW)}else app.unauthenticatedUI()},
initializeDirectMessagesView:function(){app.setView(app.DIRECT_MESSAGES_VIEW);""==$("#friendsContainer").html()&&app.startDirectMessages()},getNewestDirectMessages:function(){app.setupDMPostData();app.dmSinceId?app.dmPostData.since_id=app.dmSinceId:console.log("getting newest but there's no since id?  ");app.overlay();app.doDMPost(app.dmPostData,app.handleDMResponse)},setupDMPostData:function(){app.dmPostData={count:app.NUM_DM,full_text:!0,include_entities:!1,skip_status:!0}},startDirectMessages:function(){app.setupDMPostData();
app.overlay();app.doDMPost(app.dmPostData,app.handleDMResponse)},doDMPost:function(a,b){app.updatingDirectMessages=!0;app.timer("direct message post");app.oauthResult.get("1.1/direct_messages.json",{data:a}).done(function(a){app.timer("direct message post");console.log("Got "+a.length+" direct messages");0<a.length?(a.length==app.NUM_DM&&$("#getOlderMessagesButton").show(),app.dmPostData.max_id||(app.dmSinceId=a[0].id_str),b(a)):(app.hideOverlays(),app.dmPostData.since_id?(alert("No new direct messages"),
$(".dmIconNew").hide()):app.dmPostData.max_id||$("#directMessages").html("You have no direct messages."))}).fail(function(a){app.hideOverlays()})},toConversation:function(a){app.setView(app.DIRECT_MESSAGES_VIEW);null==document.getElementById("friendDetails_"+a)?app.getFollowerInfo(a,app.createConversationEntry):app.toggleFriendMessages(a,"friendMessagesToggleLink_"+a)},getFollowerInfo:function(a,b){console.log("getting follower info for "+a);app.oauthResult.get("1.1/users/show.json?user_id="+a).done(function(a){console.log("Got the follower: "+
a);b(a);$("#friendMessageForm_"+a.id_str).show()}).fail(function(a){console.log("Error getting new follower id "+JSON.stringify(a))})},createConversationEntry:function(a){var b=app.getObject("publicKeys-"+app.activeUser.user.id_str);if(b){for(var c in b)console.log("does follower "+a.id_str+" match "+c);a.publicKey=b[a.id_str];console.log("GOT THE KEY:  "+a.publicKey)}if(b=app.getObject("sentPublicKeys-"+app.activeUser.user.id_str))a.sentKey=b[a.id_str];$("#friendsContainer").append(Handlebars.getTemplate("conversation-template")(a))},
handleDMResponse:function(a){app.timer("handleDMResponse");for(var b in a);console.log("handling dm response for "+a.length);1==a.length&&a[0].id_str==app.dmMaxId?(app.hasFirstDirectMessage=!0,app.updatingDirectMessages=!1):0==a.length?($("#directMessages").append(Handlebars.getTemplate("no-seecrets-in-direct-messages-template")()),app.hideOverlays(),app.updatingDirectMessages=!1):(a=app.processMessageList(a,"sender","dmMaxId"),app.timelineContainsKeys(a)&&(console.log("saving public keys!"),app.savePublicKeys(app.getPublicKeyMessagesFromDMList(a))),
app.timelineContainsEncryptedMessages(a)?(app.markEncryptedDirectMessages(a),app.decryptDirectMessages(a)):(app.createConversationEntries(a),app.updateDirectMessagesUI(a,friendList)));app.hideOverlays();app.timer("handleDMResponse")},createConversationEntries:function(a){var b=app.getFriendsFromMessageList(a);if(null!=app.dmPostData.since_id){var c="New messages from ",d="",e;for(e in b)c+=d+b[e].screen_name,d=",";0<a.length&&alert(c)}app.markMessageableFriends(b);app.markFriendsWithSentKeys(b);app.markFriendsWithUnencryptedMessages(b,
a);console.log("Found "+b.length+" friends");if($("#friendsContainer").is(":empty"))$("#friendsContainer").html(Handlebars.getTemplate("conversations-template")(b));else{a=[];for(e in b)if(b[e].newMessages=!0,null==document.getElementById("friendDetails_"+b[e].id_str))a.push(b[e]);else{if(c=$("#messageCount_"+b[e].id_str).html())b[e].message_count+=parseInt(c);c=!1;"hide conversation"==$("#friendMessagesToggleLink_"+b[e].id_str).html()&&(c=!0);$("#conversationStatusContainer_"+b[e].id_str).replaceWith(Handlebars.getTemplate("conversation-status-template")(b[e]));
c&&($("#friendMessageForm_"+b[e].id_str).show(),$("#friendMessagesToggleLink_"+b[e].id_str).html("hide conversation"))}0<a.length?$("#friendsContainer").prepend(Handlebars.getTemplate("conversations-template")(a)):console.log("no new friends")}},updateDirectMessagesUI:function(a,b){app.hideOverlays();b=b?b:app.getFriendsFromMessageList(a);app.renderAllFriendMessages(b,a);app.updatingDirectMessages=!1},markMessageableFriends:function(a){var b=app.getObject("publicKeys-"+app.activeUser.user.id_str),
c;for(c in a)console.log("the public key is "+b[a[c].id_str]),a[c].publicKey=b[a[c].id_str]},markFriendsWithSentKeys:function(a){console.log("marking friends with sent keys!");var b=app.getObject("sentPublicKeys-"+app.activeUser.user.id_str),c;for(c in b)for(var d in a)c==a[d].id_str&&(a[d].sentKey=b[c])},markFriendsWithUnencryptedMessages:function(a,b){for(var c in a){a[c].unencryptedMessages=!1;for(var d in b)if(b[d].encrypted&&!b[d].encryptionSuccessful){a[c].unencryptedMessages=!0;break}}},renderAllFriendMessages:function(a,
b){for(var c in a)app.renderFriendMessages(a[c].id_str,b)},renderFriendMessages:function(a,b){var c=app.filterMessageListByFriendId(b,a);if(app.dmPostData.since_id){console.log("prepending "+c.length+" new messages from "+a);for(var d in c)c[d].new=!0;$("#friendMessages_"+a).prepend(Handlebars.getTemplate("direct-messages-template")(c))}else $("#friendMessages_"+a).append(Handlebars.getTemplate("direct-messages-template")(c))},getFriendsFromMessageList:function(a){var b={},c;for(c in a)b[a[c].sender.screen_name]||
(b[a[c].sender.screen_name]=a[c].sender,b[a[c].sender.screen_name].most_recent=a[c],console.log("Most recent message from "+a[c].sender.screen_name+" is "+a[c].created_at)),b[a[c].sender.screen_name].message_count||(b[a[c].sender.screen_name].message_count=0),b[a[c].sender.screen_name].message_count++;a=[];for(f in b)a.push(b[f]);return a},toggleFriendMessages:function(a){"show conversation"!=$("#friendMessagesToggleLink_"+a).html()?(console.log("updating conversation link to say 'show conversation'"),
$("#friendMessagesToggleLink_"+a).html("show conversation"),console.log("hiding friendMessagesForm_"+a),$("#friendMessageForm_"+a).fadeOut(),console.log("hiding friendMessages_"+a),$("#friendMessages_"+a).fadeOut()):($("#friendMessagesToggleLink_"+a).html("hide conversation"),$("#friendMessageForm_"+a).fadeIn(),$("#friendMessages_"+a).fadeIn())},filterMessageListByFriendId:function(a,b){var c=[],d;for(d in a)a[d].sender.id_str!=b&&a[d].sender.id_str!=app.activeUser.id_str||c.push(a[d]);console.log("filtered "+
a.length+" down to "+c.length);return c},getOlderDirectMessages:function(){app.hasFirstDirectMessage||(app.setupDMPostData(),app.dmPostData.max_id=app.dmMaxId,app.doDMPost(app.dmPostData,function(a){if(a.length<app.NUM_DM||app.dmMaxId==a[a.length-1].id_str)app.hasFirstDirectMessage=!0,$("#directMessages").append(Handlebars.getTemplate("no-more-direct-messages-template")()),$("#getOlderMessagesButton").hide();app.handleDMResponse(a)}))},isPublicKey:function(a){return app.publicKeyStartRegex.test(a)&&
app.publicKeyEndRegex.test(a)},isPGPMessage:function(a){return app.pgpMessageStartRegex.test(a)&&app.pgpMessageEndRegex.test(a)},timelineContainsKeys:function(a){for(var b in a)if(app.isPublicKey(a[b].seecret))return!0;return!1},timelineContainsEncryptedMessages:function(a){for(var b in a)if(app.isPGPMessage(a[b].seecret))return!0;return!1},getPublicKeyMessagesFromDMList:function(a){var b=[],c;for(c in a)app.isPublicKey(a[c].seecret)&&b.push(a[c]);return b},savePublicKeys:function(a){var b=app.activeUser.publicKeys;
null==b&&(b={});var c={},d;for(d in a)a[d].sender.id_str!=app.activeUser.user.id&&(c[a[d].sender.id_str]||(c[a[d].sender.id_str]={key:a[d].seecret,screen_name:a[d].sender.screen_name,id_str:a[d].sender.id_str,profile_image_url:a[d].sender.profile_image_url,receiveDate:a[d].created_at}));for(var e in c)b[e]||$("#friendKeyContainer_"+e).html("Just sent you their key!"),b[e]=c[e];app.saveObject("publicKeys-"+app.activeUser.user.id_str,b);app.activeUser.publicKeys=b},markEncryptedDirectMessages:function(a){for(var b in a)this.isPGPMessage(a[b].seecret)&&
(a[b].encrypted=!0,a[b].decrypted=!1)},sendPublicKeyMessages:function(a,b){app.postDirectMessages(a,function(){app.trackSentPublicKeys(b)})},trackSentPublicKeys:function(a){var b=app.activeUser.sentPublicKeys;null==b&&(b={});for(var c in a)b[c]=new Date;app.activeUser.sentPublicKeys=b;app.saveObject("sentPublicKeys-"+app.activeUser.user.id_str,b)},decryptDirectMessages:function(a){app.timer("decryptDirectMessages");var b=openpgp.key.readArmored(app.activeUser.privateKey.armored).keys[0];if(app.decryptPrivateKey(b))app.verifyMessagesDecrypted(a,
b);else{alert("Could not verify your passphrase.  Showing messages undecrypted.");for(var c in a)a[c].encrypted&&(a[c].text+=" (could not decrypt)");app.updateDirectMessagesUI(a)}},verifyMessagesDecrypted:function(a,b){var c=null,d;for(d in a)if(a[d].encrypted&&0==a[d].decrypted){c=d;break}var e=app.activeUser.user;if(null!=c)if(a[c].sender.id_str==e.id)a[c].decrypted=!0,app.verifyMessagesDecrypted(a,b);else{a[c].decrypted=!0;a[c].decryptionSuccessful=!1;a[c].originaltext=a[c].text;try{var g=openpgp.message.readArmored(a[c].seecret),
h={privateKey:b,message:g};if(app.activeUser.publicKeys&&app.activeUser.publicKeys[a[c].sender.id_str]){var k=openpgp.key.readArmored(app.activeUser.publicKeys[a[c].sender.id_str].key);h.publicKeys=k.keys}try{openpgp.decrypt(h).then(function(b){a[d].decryptionSuccessful=!0;a[d].seecret=b.data;b.signatures&&0<b.signatures.length&&b.signatures[0].valid&&(a[d].signed=!0);app.verifyMessagesDecrypted(a,h.privateKey)},function(b){a[d].text=app.generateUndecryptedMessageContent(a[d]);app.verifyMessagesDecrypted(a,
h.privateKey)})}catch(m){console.log("try/catch error decrypting: "+JSON.stringify(m)),a[d].text=app.generateUndecryptedMessageContent(a[d]),app.verifyMessagesDecrypted(a,b)}}catch(m){console.log("major try/catch error decrypting: "+JSON.stringify(m)),a[d].text=app.generateUndecryptedMessageContent(a[d]),app.verifyMessagesDecrypted(a,b)}}else{(c=app.activeUser.dmSenders)||(c={});for(var l in a)a[l].encrypted&&a[l].sender.id_str!=app.activeUser.id&&(c[a[l].sender.id_str]=!0);app.saveObject("dmSenders-"+
app.activeUser.user.id_str,c);app.refreshActiveUserDMSenders();app.timer("decryptDirectMessages");app.timer("updateDirectMessagesUI");app.createConversationEntries(a);app.updateDirectMessagesUI(a);app.timer("updateDirectMessagesUI")}},undecryptedMessageContentHandler:null,generateUndecryptedMessageContent:function(a){return Handlebars.getTemplate("undecrypted-message-content-template")(a)},showPublicKeyManager:function(a,b){app.doScroll=!1;var c={};c.receiver_name=b;c.receiver_id=a;$("#directMessagesActionsContainer").html(Handlebars.getTemplate("public-key-template")(c))},
showWaitingForPublicKeyView:function(a,b){app.doScroll=!1;var c={};c.receiver_name=b;c.receiver_id=a;c.invite_date=moment(app.activeUser.sentPublicKeys[a]).format("MMMM Do YYYY, h:mm:ss a");$("#directMessagesActionsContainer").html(Handlebars.getTemplate("public-key-pending-template")(c))},showDirectMessageForm:function(a,b){app.doScroll=!1;var c={receiverId:a,receiverName:b};$("#directMessagesActionsContainer").html(Handlebars.getTemplate("direct-message-template")(c));app.doScroll=!1},makeKeyOptionsForUser:function(a){var b=
app.generatePassword(),c=1024;openpgp.util.getWebCryptoAll()&&(c=2048);return{numBits:c,userIds:[{name:a.name,email:a.screen_name+"@seecretApp.seecret"}],passphrase:b}},generatePassword:function(){for(var a="",b=0;50>b;b++)a+=app.getValidPasswordCharacter();return a},getValidPasswordCharacter:function(){for(;;){var a=Math.floor(206*Math.random())+48;if(!(173==a||92==a||58<=a&&64>=a||127<=a&&160>=a))return String.fromCharCode(a)}},validateNewPrivateKey:function(a){if(1>$("#"+a).val().length)return $("#"+
a+"Error").html("You must have a passphrase for your key of at least one character"),!1;$("#"+a+"Error").html("");if(confirm("Are you sure?")){var b=$("#"+a).val(),c=1==document.getElementById(a+"Cache").checked;app.hideAllViews();$("#"+app.STATUS_MESSAGE_VIEW).show();app.generatePrivateKeyPair(b,c,function(){$("#"+a).val("");confirm("Send your new key to the contacts who have the old one?")&&app.resendPublicKeys();$("#directMessagesActionsContainer").empty();app.renderPrivateKeySettings();app.setView(app.SETTINGS_VIEW)})}},
resendPublicKeys:function(){var a=app.activeUser.sentPublicKeys,b=app.activeUser.dmSenders;if(null!=a||null!=b){var c=[],d={},e;for(e in a)d[e]=!0;for(e in b)d[e]=!0;var a=0,g;for(g in d){a++;var b=app.generatePublicKeyMessages(g),h;for(h in b)c.push({receiverId:g,text:b[h]})}0<c.length&&app.sendPublicKeyMessages(c,d)}},generatePrivateKeyPair:function(a,b,c){var d=app.activeUser.user,e=app.makeKeyOptionsForUser(d);e.passphrase=a;d.id_str||(e.userId=d.id_str);null!=d&&(a=new Date,console.log("start generating key pair : "+
a.getSeconds()+":"+a.getMilliseconds()),openpgp.config.debug=!0,openpgp.generateKey(e).then(function(a){var d=new Date;console.log("done generating key pair : "+d.getSeconds()+":"+d.getMilliseconds());app.generatePrivateKeyPairSuccess(a,e,b,c)}).catch(function(a){console.log("Caught an error generatinga key pair");console.log(JSON.stringify(a))}))},generatePrivateKeyPairSuccess:function(a,b,c,d){c||delete b.passphrase;c=app.activeUser.user;var e=new Date,g={};g.armored=a.privateKeyArmored;g.dateCreated=
e;var h={};h.armored=a.publicKeyArmored;h.dateCreated=e;app.saveObject("keyOptions-"+c.id_str,b);app.saveObject("privateKey-"+c.id_str,g);app.saveObject("publicKey-"+c.id_str,h);app.checkDirectMessageStatus();app.refreshActiveUserTotal();d()},showAllDirectMessages:function(){$(".friendMessages").show()},invite:function(a,b){var c=app.generatePublicKeyMessages(a),d=[],e;for(e in c)d.push({receiverId:a,text:c[e]});b||d.push({text:app.joinMessage,receiverId:a});app.overlay();app.postDirectMessages(d,
function(){var b={};b[a]=!0;app.trackSentPublicKeys(b);$("#friendKeyContainer_"+a).html("Invite sent.")})},prepareDirectMessage:function(a){if(!app.sendingDirectMessage){var b=$("#directMessage_"+a).val();0!=b.length&&($("#directMessage_"+a).val(""),app.sendingDirectMessage=!0,app.overlay(),app.encryptDirectMessage(b,a))}},decryptPrivateKey:function(a){var b=app.activeUser.keyOptions,c=null;app.passphrase&&(c=app.passphrase);b.passphrase&&(c=b.passphrase);b.passphrase||null!=app.passphrase||(app.passphrase=
c=prompt("Enter your passphrase"));if(a.decrypt(c))return!0;app.passphrase=null;return!1},encryptDirectMessage:function(a,b){var c=app.activeUser.publicKeys,d=null,e;for(e in c)e==b&&(d=c[e].key);d?(c=openpgp.key.readArmored(d).keys,c={publicKeys:c,data:a},app.activeUser.privateKey&&(d=openpgp.key.readArmored(app.activeUser.privateKey.armored),app.decryptPrivateKey(d.keys[0])&&(c.privateKeys=d.keys)),openpgp.encrypt(c).then(function(a){a=app.hideAndCompress(a.data);app.seecret_engine.config.RANDOM_COVERTEXTS=
!0;app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH=1E4;a=app.seecret_engine.chainify(a,covertexts);app.seecret_engine.config.RANDOM_COVERTEXTS=!1;app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH=140;a.reverse();for(var c in a)a[c]={receiverId:b,text:a[c]};app.postDirectMessages(a,function(){});$("#directMessage").val("")}).catch(function(a){console.log("Error generating the messages:"+JSON.stringify(a));app.hideOverlays();app.sendingDirectMessage=!1})):(app.sendingDirectMessage=!1,app.hideOverlays(),
alert("You do not have that users public key."))},postDirectMessages:function(a,b){app.overlay();app.directMessagesToPost=a;app.directMessageCount=0;app.checkDirectMessages(b)},checkDirectMessages:function(a){if(app.directMessagesToPost&&app.directMessageCount<app.directMessagesToPost.length){var b=app.directMessagesToPost[app.directMessageCount].text,c=app.directMessagesToPost[app.directMessageCount].receiverId;app.directMessageCount++;app.postDirectMessage(b,c,a)}else app.hideOverlays(),alert("Sent!"),
app.sendingDirectMessage=!1,a&&a()},postDirectMessage:function(a,b,c){app.oauthResult.post("1.1/direct_messages/new.json",{data:{text:a,user_id:b}}).done(function(a){app.checkDirectMessages(c)}).fail(function(a){})},generatePublicKeyMessages:function(a){a=app.activeUser.publicKey;if(null!=a)return a=app.hideAndCompress(a.armored),app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH=1E4,chain=app.seecret_engine.chainify(a,["Here's my Seecret key","Now we can start using Seecret to send encrypted messages on Twitter."]),
chain.reverse(),app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH=140,chain},promptDeleteKey:function(){confirm("Are you sure?")&&(app.deleteSavedItem("privateKey-"+app.activeUser.user.id_str),app.deleteSavedItem("publicKey-"+app.activeUser.user.id_str),app.deleteSavedItem("keyOptions-"+app.activeUser.user.id_str),app.activeUser.privateKey=null,app.activeUser.publicKey=null,app.activeUser.keyOptions=null,app.renderPrivateKeySettings(),app.setView(app.SETTINGS_VIEW))},openDirectMessageForm:function(a){$("#friendMessageForm_"+
a).fadeIn()},checkDirectMessageStatus:function(){app.doScroll=!1;var a=$("#selectedReceiverId").val(),b=$("#selectedReceiverName").val();if(a)if(null==app.activeUser.privateKey)app.showPrivateKeyManager();else{var c=app.activeUser.publicKeys,d=app.activeUser.sentPublicKeys;null==d||null==d[a]||null!=c&&c[a]?null==c||null!=c&&!c[a]?app.showPublicKeyManager(a,b):app.showDirectMessageForm(a,b):app.showWaitingForPublicKeyView(a,b);app.doScroll=!0}},updateUserTimeline:function(a,b){b&&(app.maxId=null);
app.userTimelineId=a;app.homeTimeline=!1;app.updatingTimeline=!0;var c={data:{}};c.data.count=200;c.data.screen_name=a;c.data.include_rts=!1;null!=app.maxId?c.data.max_id=app.maxId:$("#status-list").empty();app.hideOverlays();app.getUserTimeline(c,app.handleTimelineResponse)},getTimeline:function(a,b){app.oauthResult.get("1.1/statuses/home_timeline.json",a).done(function(a){b(a);app.hideOverlays()}).fail(app.handleGetTimelineError)},getUserTimeline:function(a,b){$("#twitterUser").val("");app.oauthResult.get("1.1/statuses/user_timeline.json",
a).done(function(a){b(a);app.hideOverlays()}).fail(app.handleGetTimelineError)},handleTimelineResponse:function(a){app.timer("Get timeline");0<a.length?1==a.length&&a[0].id_str==app.maxId?($("#status-list").append(Handlebars.getTemplate("no-more-timeline-message-template")()),$("#getOlderTimelineButton").hide()):(app.timer("Process timeline Response"),app.processTimelineResponse(a),app.timer("Process timeline Response")):app.handleEmptyTimelineResponse(a)},handleGetTimelineError:function(a){429==
a.status?alert("Twitter rate limit exceeded.  You must wait 15 minutes to make more requests from this app."):404==a.status?alert("Twitter says that screen name does not exist."):alert("There was an error retrieving the timeline.");console.log("Error:"+JSON.stringify(a));app.hideOverlays()},handleEmptyTimelineResponse:function(a){app.hideOverlays()},processTimelineResponse:function(a){app.addFollowerTagToTweets(a,app.processTimelineWithFollowerInfo)},addFollowerTagToTweets:function(a,b){var c={},
d;for(d in a)c[a[d].user.id_str]=a[d].user.id_str;d=[];for(var e in c)d.push(e);c={data:{}};c.data.user_id=d.join();app.oauthResult.get("1.1/friendships/lookup.json",c).done(function(c){var d={},e;for(e in c)0<=c[e].connections.indexOf("followed_by")&&(d[c[e].id_str]=!0);for(var l in a)d[a[l].user.id_str]&&(a[l].follower=!0);b(a)}).fail(function(c){b(a)})},unhideAndDecompressSeecretsInList:function(a,b){var c=[],d;for(d in a)if(a[d].seecret_envelope||!document.getElementById("showOnlySeecrets").checked)if(a[d].seecret_envelope){var e=
a[d].seecret_envelope,g=app.seecret_engine.getSeecretFromEnvelope(e),e=app.seecret_engine.getContentTypeFromEnvelope(e),g=app.seecret_engine.unhide(g,e);if(e==app.seecret_engine.config.CONTENT_TYPES.NUMBERS_ARRAY)try{g=seecret_compression.decompress(g),a[d].seecret=g}catch(h){a[d].seecret="Could not decompress the Seecret",a[d].seecret_error=h}else a[d].seecret=g;c.push(a[d])}else b&&!app.seecret_engine.hasSeecretContent(a[d].text)&&c.push(a[d]);return c},unhideAndDecompressTimelineSeecrets:function(a,
b){var c=[],d;for(d in a)if(a[d].seecret_envelope){var e=a[d].seecret_envelope,g=app.seecret_engine.getSeecretFromEnvelope(e),e=app.seecret_engine.getContentTypeFromEnvelope(e),g=app.seecret_engine.unhide(g,e);if(e==app.seecret_engine.config.CONTENT_TYPES.NUMBERS_ARRAY)try{g=seecret_compression.decompress(g),a[d].seecret=g}catch(h){console.log("error decompressing a seecret message: "+JSON.stringify(h)),a[d].seecret="Could not decompress the Seecret",a[d].seecret_error=h}else a[d].seecret=g;c.push(a[d])}else b&&
!app.seecret_engine.hasSeecretContent(a[d].text)&&c.push(a[d]);return c},getEarliestIncompleteChainStartId:function(a,b){for(var c in b)app.getFirstIncompleteChainStart(a,b[c])},getEarliestIncompleteDMChainStartId:function(a,b){for(var c in b)app.getFirstIncompleteDMChainStart(a,b[c])},getFirstIncompleteChainStart:function(a,b){var c=0,d;for(d in a)a[d].user.id_str==b&&app.seecret_engine.hasSeecretContent(a[d].text)&&(app.seecret_engine.isEnvelopeStart(a[d].text)&&(c=d),app.seecret_engine.isEnvelopeEnd(a[d].text)&&
(c=0));return c},getFirstIncompleteDMChainStart:function(a,b){var c=0,d;for(d in a)a[d].sender.id_str==b&&app.seecret_engine.hasSeecretContent(a[d].text)&&(app.seecret_engine.isEnvelopeStart(a[d].text)&&(c=d),app.seecret_engine.isEnvelopeEnd(a[d].text)&&(c=0));return c},getFirstIncompleteChainStart:function(a,b){var c=0,d;for(d in a)b(a[d])[senderProp].sender.id_str==userId&&app.seecret_engine.hasSeecretContent(timeline[t].text)&&(app.seecret_engine.isEnvelopeStart(timeline[t].text)&&(c=t),app.seecret_engine.isEnvelopeEnd(timeline[t].text)&&
(c=0));return c},processMessageList:function(a,b,c){var d=function(a){return a[b]?a[b].id_str:null},e=app.getUniqueInstancesFromList(a,d),g=app.getMessageIndexes(a,e,d);a=app.dechainifyMessages(a,g,b);app[c]=app.lastProcessedStatusId=a[a.length-1].id_str;var g=0,h;for(h in e){console.log("finding first incomplete message start for "+h);var e=0,k;for(k in a)d(a[k])==h&&app.seecret_engine.hasSeecretContent(a[k].text)&&(app.seecret_engine.isEnvelopeStart(a[k].text)&&(e=k),app.seecret_engine.isEnvelopeEnd(a[k].text)&&
(e=0));0<e&&0==g?g=e:0<e&&e<g&&(g=e)}d=g;0<d&&(app[c]=a[d].id_str);console.log("unhideAndDecompress started with "+a.length);a=app.unhideAndDecompressSeecretsInList(a,!0);console.log("unhideAndDecompress left "+a.length);for(k in a)a[k][b]&&a[k][b].profile_image_url&&(a[k][b].profile_image_url=a[k][b].profile_image_url.replace(app.httpsReplaceRegex,"https:"));return a},processTimelineWithFollowerInfo:function(a){var b=null;app.dmPost&&app.dmPost.since_id&&app.dmMaxId&&(b=app.dmMaxId);a=app.processMessageList(a,
"user","maxId");b&&(app.dmMaxId=b);0<a.length?$("#status-list").append(Handlebars.getTemplate("status-template")(a)):document.getElementById("showOnlySeecrets").checked&&$("#status-list").append(Handlebars.getTemplate("no-seecrets-in-timeline-segment-template")());$(".basicTweet").fadeIn();app.updatingTimeline=!1;app.userTimelineId?app.renderUserTimelineHeader(app.userTimelineId):$("#timelineName").html("")},renderUserTimelineHeader:function(a){$("#timelineName").html("for "+a+" &nbsp;&nbsp;&nbsp;<a href='javascript:app.initTimeline();app.updateHomeTimeline()'>Back to my timeline</a>")},
dechainifyMessages:function(a,b,c){for(var d in b)if(0<b[d].length){var e=function(a){return a&&a.text&&"string"==typeof a.text&&a[c]&&a[c].id_str==d?a:null},g=0,h;for(h in b[d]){var k=app.seecret_engine.dechainify(a,{chainSegmentMatcher:e,chainSegmentContentFinder:this.chainSegmentContentFinder,startIndex:b[d][h],withCovertexts:!0});k&&""!=k.seecret&&(a[b[d][h]].seecret_envelope=k.seecret,a[b[d][h]].covertexts=k.covertexts);g++}}return a},chainSegmentContentFinder:function(a){return a.text},tweetSenderGetter:function(a){return a.user?
a.user.id_str:null},dmSenderGetter:function(a){return a.user?a.user.id_str:null},getMessageIndexes:function(a,b,c){var d={},e;for(e in b)d[e]=app.seecret_engine.getOrdinalIndexes(a,{chainSegmentMatcher:function(a){return c(a)==b[e]?a:null},chainSegmentContentFinder:this.chainSegmentContentFinder});return d},getSeecretMessageIndexesByUser:function(a,b){var c={},d;for(d in b)c[d]=app.seecret_engine.getOrdinalIndexes(a,{chainSegmentMatcher:function(a){return a&&a.text&&"string"==typeof a.text&&a.user&&
a.user.id_str==b[d]?a:null},chainSegmentContentFinder:this.chainSegmentContentFinder});return c},getSeecretMessageIndexesBySender:function(a,b){var c={},d;for(d in b)c[d]=app.seecret_engine.getOrdinalIndexes(a,{chainSegmentMatcher:function(a){return a&&a.text&&"string"==typeof a.text&&a.sender&&a.sender.id_str==b[d]?a:null},chainSegmentContentFinder:this.chainSegmentContentFinder});return c},getUniqueTweeters:function(a){return app.getUniqueInstancesFromList(a,app.getTweeterId)},getUniqueDMSenders:function(a){return app.getUniqueInstancesFromList(a,
app.getDMSenderId)},getTweeterId:function(a){return a.user.id_str},getDMSenderId:function(a){return a.sender.id_str},getUniqueInstancesFromList:function(a,b){console.log("getting unique instances");var c={},d;for(d in a){var e=b(a[d]);e&&(c[e]=e)}return c},generateTimelinePostVals:function(){var a={data:{}};a.data.count=200;null!=app.maxId&&(a.data.max_id=app.maxId);return a},initTimeline:function(){app.maxId=null;app.homeTimeline=!0;app.userTimelineId=null;app.updateHomeTimeline()},updateHomeTimeline:function(a){$("#twitterUser").val("");
a&&(app.maxId=null);app.homeTimeline=!0;$("#timelineName").empty();app.updatingTimeline=!0;a=app.generateTimelinePostVals();a.data.max_id||($("#status-list").empty(),app.lastProcessedStatusId=null);app.overlay();app.timer("Get timeline");app.getTimeline(a,app.handleTimelineResponse)},prepareUpdateMessage:function(){var a=$("#textarea-statusUpdate").val(),a=app.hideAndCompress(a),b=null;app.useAutogeneratedScaffolding()||(b=app.getScaffolds());a=app.seecret_engine.chainify(a,b);a.reverse();return a},
updateStatus:function(){var a=this.prepareUpdateMessage();this.postChain(a)},postChain:function(a){this.currentMessageChain=a;this.chainCount=0;this.postChainItem()},postChainItem:function(){this.chainCount<this.currentMessageChain.length?app.oauthResult.post("1.1/statuses/update.json",{data:{status:this.currentMessageChain[this.chainCount++]}}).done(function(a){setTimeout(function(){app.postChainItem()},50)}).fail(function(a){}):($("#status-list").empty(),$("#scaffoldingWarningContainer").empty(),
$("#scaffoldingStatus").empty(),$("#textarea-statusUpdate").val(""),$("#textarea-statusUpdate").val(""),$("#scaffoldsContainer").html(Handlebars.getTemplate("scaffolds-template")()),$("#scaffoldingContainer > div > div > input").val(""),app.maxId=null,this.currentMessageChain=[],this.chainCount=0,app.updateHomeTimeline(),app.setView(app.TIMELINE_VIEW))},authenticatedUI:function(){app.authenticatedHeader();app.authenticatedMenu();app.setView(app.TIMELINE_VIEW)},unauthenticatedUI:function(){$("#status-list").empty();
$("#userLabel").empty();$("#userProfileImg").hide();$("#directMessages").empty();$("#publicKeys").empty();$("#directMessagesActionsContainer").val("");$("#textarea-statusUpdate").val("");$("#importPrivateKeyText").val("");$("#importPrivateKeyPassphrase").val("");$("#privateKeyTextarea").val("");$("#privateKeyPassphrase").val("");$("#privateKeyCopyarea").empty();$("#publicKeysDisplayArea").empty();app.unauthenticatedHeader();$("#privateMessagesButton").hide();$("#timelineButton").hide();app.unauthenticatedMenu();
app.setView(app.ABOUT_VIEW)},authenticatedMenu:function(){$("#privateMessagesButton").show();$("#timelineButton").show();$("#settingsButton").show();$("#logoutButton").show();$("#hashesButton").show();$("#publicKeysButton").show();$("#aboutButton").show()},unauthenticatedMenu:function(){$("#privateMessagesButton").hide();$("#timelineButton").hide();$("#settingsButton").hide();$("#logoutButton").hide();$("#publicKeysButton").hide()},authenticatedHeader:function(){app.activeUser&&app.activeUser.user&&
(console.log("app.active user = "+JSON.stringify(app.activeUser.user)),app.activeUser.user.profile_image_url=app.activeUser.user.profile_image_url.replace(app.httpsReplaceRegex,"https:"),$("#loginContainer").html(Handlebars.getTemplate("authenticated-header-template")(app.activeUser.user)))},unauthenticatedHeader:function(){$("#loginContainer").html(Handlebars.getTemplate("unauthenticated-header-template")())},hideAllViews:function(){$("#timeline").hide();$("#statusMessage").hide();$("#privateMessages").hide();
$("#settings").hide();$("#publicKeys").hide();$("#about").hide();$("#hashes").hide()},setMenuState:function(a){$.each($(".menuLink"),function(a,c){$(this).css("background","");$(this).css("color","")});$("#"+a).css("background","#e3e3e3");$("#"+a).css("color","#333");app.openClosePanel("close")},setView:function(a){app.doScroll=!1;app.hideAllViews();$("#"+a).fadeIn(function(){app.doScroll=!0}).css("display","block");app.setMenuState(a+"Button");for(var b in window.location)console.log("window.location."+
b+" = "+window.location[b])},renderPublicKeys:function(){var a=app.activeUser.publicKeys,b=[],c=0,d;for(d in a)a[d].displayDate=moment(a[d].receiveDate).format("MMMM Do YYYY, h:mm:ss a"),b.push(a[d]),c++;0<c?(a=Handlebars.getTemplate("public-keys-template")({keys:b}),$("#publicKeysDisplayArea").html(a)):$("#publicKeysDisplayArea").html("No public keys")},copySenderPublicKeyToClipboard:function(a){var b=app.activeUser.publicKeys;b[a]&&(executeCopy(b[a].key),alert(b[a].screen_name+"'s key has been copied to your clipboard"))},
copyContentsToClipboard:function(a){executeCopy($("#"+a).html())},showPrivateKeyManager:function(){app.doScroll=!1;$("#directMessagesActionsContainer").html(Handlebars.getTemplate("private-key-template")());$("#directMessagesActionsContainer").show()},openClosePanel:function(a){"open"==a?$("#left-panel").css("left",0):$("#left-panel").css("left","-14em")},processScaffoldField:function(a){a=$("#scaffold"+a);val=a.val();for(var b=val.replace(/\s{2,}/g," ");" "==b.substr(0,1);)b=b.substr(1);b=b.substr(0,
100);b!=val&&a.val(b)},useAutogeneratedScaffolding:function(){return!1},hideAndCompress:function(a){var b=app.seecret_engine.hide(a,app.seecret_engine.config.CONTENT_TYPES.PLAIN),b=app.seecret_engine.envelope(b,app.seecret_engine.config.CONTENT_TYPES.PLAIN);a=seecret_compression.compress(a);a=app.seecret_engine.hide(a,app.seecret_engine.config.CONTENT_TYPES.NUMBERS_ARRAY);a=app.seecret_engine.envelope(a,app.seecret_engine.config.CONTENT_TYPES.NUMBERS_ARRAY);return b.length>a.length?a:b},processScaffolding:function(){var a=
$("#textarea-statusUpdate").val();if(!app.useAutogeneratedScaffolding()){var b=!1,a=app.hideAndCompress(a),c=app.getScaffolds(),d=0,e=0;if(1==c.length)if(2<=c[0].trim().length&&c[0].trim().length+a.length<app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH)b=!0,d=app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH-a.length-c[0].trim().length;else{if(2>c[0].trim().length){app.makeUpdateFormPending();return}e=app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH-(c[0].trim().length+a.length);e*=-1}else{var g=
scaffoldLength=0;for(each in c)2<=c[each].trim().length&&(scaffoldLength+=c[each].trim().length,g++);scaffoldLength+a.length<app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH*g?(b=!0,d=app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH*g-(scaffoldLength+a.length)):(e=app.seecret_engine.config.MAX_CHAIN_SEGMENT_LENGTH*g-(scaffoldLength+a.length),e*=-1)}b?app.makeUpdateFormReady(d):app.makeUpdateFormNotReady(e)}},newVisibleMessageField:function(){var a=app.getScaffolds();app.addScaffoldField(a.length);
app.processScaffolding()},addScaffoldField:function(a,b){var c={scaffoldId:a,val:b,scaffoldCount:a+1};$("#scaffoldsContainer").append(Handlebars.getTemplate("scaffold-template")(c))},makeUpdateFormReady:function(a){$("#submitButtonContainer").show();var b={};b.availableCharacters=a;$("#scaffoldingStatus").html(Handlebars.getTemplate("scaffold-status-good-template")(b))},makeUpdateFormNotReady:function(a){$("#submitButtonContainer").hide();var b={};b.spillover=a;$("#scaffoldingStatus").html(Handlebars.getTemplate("scaffold-status-spillover-template")(b))},
makeUpdateFormPending:function(){$("#submitButtonContainer").hide();$("#scaffoldingStatus").html(Handlebars.getTemplate("scaffold-status-incomplete-template")())},removeScaffold:function(a){var b=app.getScaffolds(),c=[],d;for(d in b)d!=a&&c.push(b[d]);app.renderScaffolds(c);app.processScaffolding()},renderScaffolds:function(a){$("#scaffoldsContainer").html("");for(var b=0,c=0;c<a.length;c++)app.addScaffoldField(b++,a[c]);$("#scaffoldRemover0").remove()},getScaffolds:function(){for(var a=[],b=document.getElementById("scaffold0");b;)a.push(b.value.trim()),
b=document.getElementById("scaffold"+a.length);return a},toggleScaffolds:function(){document.getElementById("scaffoldingOption").checked?($("#scaffoldingStatus").html(""),$("#scaffoldsContainer").html(""),$("#scaffoldingWarningContainer").hide(),$("#scaffoldingContainer").hide(),$("#submitButtonContainer").show()):($("#scaffoldingStatus").html(""),$("#scaffoldsContainer").html(""),$("#scaffoldingContainer").show(),$("#scaffoldingWarningContainer").html(""),$("#submitButtonContainer").hide(),app.addScaffoldField(0),
app.processScaffolding())},getScaffoldTotal:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c].trim().length;return b},showCopyPrivateKey:function(a){"block"==$("#privateKeyCopyarea").css("display")?($(a).html("Show"),$("#privateKeyCopyarea").hide(),$("#privateKeyCopyarea").html("")):($(a).html("Hide"),app.renderPrivateKeySettings())},toggleDeleteSettings:function(a){"block"==$("#deleteKeyForm").css("display")?($(a).html("Show"),$("#deleteKeyForm").hide()):($(a).html("Hide"),$("#deleteKeyForm").show())},
renderPrivateKeySettings:function(){var a=app.activeUser.privateKey,b=app.activeUser.publicKey,c=app.activeUser.keyOptions,d={};app.activeUser&&app.activeUser.privateKey&&(d.privateKey=a,d.privateKey.dateCreatedDisplay=(new moment(d.privateKey.dateCreated)).format("MMMM Do YYYY, h:mm:ss a"),d.publicKey=b,d.keyOptions=c);a=Handlebars.getTemplate("user-keys-template")(d);$("#privateKeyCopyarea").html(a);$("#privateKeyCopyarea").fadeIn()},showPublicKeys:function(a){"block"==$("#publicKeysDisplayArea").css("display")?
($(a).html("Show"),$("#publicKeysDisplayArea").hide()):($(a).html("Hide"),app.renderPublicKeys(),$("#publicKeysDisplayArea").fadeIn())},showImportPrivateKey:function(a){"block"==$("#importForm").css("display")?($(a).html("Show"),$("#importForm").hide()):($(a).html("Hide"),$("#importForm").show())},showGeneratePrivateKey:function(a){"block"==$("#generateForm").css("display")?($(a).html("Show"),$("#generateForm").hide()):($(a).html("Hide"),$("#generateForm").show())},saveObject:function(a,b){localStorage[a]=
JSON.stringify(b)},getObject:function(a){return app.getLocalObject(a)},getLocalObject:function(a){return localStorage[a]?JSON.parse(localStorage[a]):null},saveLocalObject:function(a,b){localStorage[a]=JSON.stringify(b)},deleteSavedItem:function(a){delete localStorage[a]},importPrivateKey:function(){var a=app.activeUser.user,b=$("#importPrivateKeyText").val(),c=new Date,d=openpgp.key.readArmored(b);if(!d||!d.keys||1>d.keys.length)alert("The key is invalid");else{var e=openpgp.key.readArmored(b).keys[0],
g=$("#importPrivateKeyPassphrase").val();e.decrypt(g)?(g=$("#importPrivateKeyPassphrase").val(),$("#importPrivateKeyText").val(""),$("#importPrivateKeyPassphrase").val(""),d=app.makeKeyOptionsForUser(a),d.passphrase=g,b={armored:b,dateCreated:c},c={armored:e.toPublic().armor(),dateCreated:c},app.activeUser.privateKey=b,app.activeUser.publicKey=c,app.activeUser.keyOptions=d,app.saveObject("privateKey-"+a.id_str,b),app.saveObject("publicKey-"+a.id_str,c),app.saveObject("keyOptions-"+a.id_str,d),app.activeUser.privateKey=
b,app.activeUser.publicKey=c,app.activeUser.keyOptions=d,app.renderPrivateKeySettings(),confirm("Successfully imported the private key. Send your new key to the contacts who have the old one?")&&app.resendPublicKeys()):alert("Could not decrypt the key with the passphrase you entered.  Please try again")}},deleteSavedPassphrase:function(){if(confirm("Are you sure?")){var a=app.activeUser.user,b=app.activeUser.keyOptions;b.passphrase="";app.activeUser.keyOptions=b;app.saveObject("keyOptions-"+a.id_str,
b)}app.renderPrivateKeySettings()},changePassphrase:function(){var a=prompt("Enter new passphrase");if(null!=a){var b=prompt("Enter it again");null!=b&&(a==b?(alert("Changing your passphrase to "+b+"\n we urge you to delete it from this device once you've got it memorized or saved elsewhere."),app.setNewPassphraseOnPrivateKey(a)):alert("Your new passphrase did not match, please try again"))}app.renderPrivateKeySettings()},setNewPassphraseOnPrivateKey:function(a){var b=app.activeUser.user,c=app.activeUser.keyOptions,
d=openpgp.key.readArmored(app.activeUser.privateKey.armored);if(app.decryptPrivateKey(d.keys[0])){d.keys[0].primaryKey.encrypt(a);d.keys[0].subKeys&&0<d.keys[0].subKeys.length&&d.keys[0].subKeys[0]&&d.keys[0].subKeys[0].subKey.encrypt(a);var e={};e.dateCreated=new Date;e.armored=d.keys[0].armor();var g={};g.dateCreated=new Date;g.armored=d.keys[0].toPublic().armor();c.passphrase=a;app.saveObject("publicKey-"+b.id_str,g);app.saveObject("privateKey-"+b.id_str,e);app.saveObject("keyOptions-"+b.id_str,
c);app.activeUser.publicKey=g;app.activeUser.privateKey=e;app.activeUser.keyOptions=c}else alert("Old passphrase was incorrect.  Please try again");app.renderPrivateKeySettings()},overlay:function(a){a||(a="overlay");$("#"+a).css("display","block")},hideOverlays:function(){$("#overlay").css("display","none");$("#static-overlay").css("display","none")},getNameValuePairsFromArgumentList:function(a,b,c){var d=[];a=a.split(b);for(var e in a)b=a[e].split(c),d.push({name:b[0],value:b[1]});return d},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&
!window.MSStream},timer:function(a){var b=moment();app.timers[a]?(console.log(a+" took "+b.diff(app.timers[a])+" milliseconds"),delete app.timers[a]):app.timers[a]=b}};
$(document).ready(function(){Handlebars.registerPartial("conversation-template",Handlebars.getTemplate("conversation-template"));Handlebars.registerPartial("conversation-status-template",Handlebars.getTemplate("conversation-status-template"));$("body").html(Handlebars.getTemplate("body-template")());openpgp.config.show_comment=!1;openpgp.config.show_version=!1;app.seecret_engine=new SEECRET_ENGINE;$("body").click(function(a){"openTarget"!=a.target.id&&app.openClosePanel("close")});$(window).scroll(function(){if(app.doScroll){var a=
$(window).scrollTop(),b=$(window).height(),c=$(document).height();a+b==c&&("block"!=document.getElementById("timeline").style.display||app.updatingTimeline?document.getElementById("privateMessages"):app.homeTimeline?app.updateHomeTimeline():app.updateUserTimeline(app.userTimelineId))}});$("#textarea-statusUpdate").keyup(function(a){app.processScaffolding()});$("#textarea-statusUpdate").change(function(a){app.processScaffolding()});$("#scaffoldingEntryContainer0").keyup(function(a){app.processScaffoldField(0);
app.processScaffolding()});$("#updateStatusForm").submit(function(a){a.preventDefault();app.updateStatus()});$("#hashesContent").html(Handlebars.getTemplate("hashes-template")(hashes));app.initialize()});Handlebars.registerHelper("tweetShortDate",function(a){a=moment(a,"dd MMM DD HH:mm:ss ZZ YYYY","en").twitter();a.match(/\//)||(a+=" ago");return a});
Handlebars.getTemplate=function(a){void 0!==Handlebars.templates&&void 0!==Handlebars.templates[a]||$.ajax({url:a+".hbs",success:function(b){void 0===Handlebars.templates&&(Handlebars.templates={});Handlebars.templates[a]=Handlebars.compile(b)},async:!1});return Handlebars.templates[a]};
function executeCopy(a){var b=document.createElement("div");b.contentEditable=!0;document.body.appendChild(b);b.innerHTML=a.replace(/\n/g,"<br/>");b.unselectable="off";b.focus();document.execCommand("SelectAll");document.execCommand("Copy",!1,null);document.body.removeChild(b)};
var seecret_compression={SMAZ_TYPE:0,SHOCO_TYPE:1,isAscii:function(a){return/^[\x00-\x7F]*$/.test(a)},compress:function(a){var b=seecret_compression.smazify(a);a=seecret_compression.shocotize(a);return b.length>=a.length?a:b},smazify:function(a){a=smaz.compress(a);a=seecret_compression.convertIndexedObectToArray(a);a.unshift(seecret_compression.SMAZ_TYPE);return a},shocotize:function(a){a=shoco.compress(a);a=seecret_compression.convertIndexedObectToArray(a);a.unshift(seecret_compression.SHOCO_TYPE);
return a},toUint8Array:function(a){var b=new ArrayBuffer(a.length),b=new Uint8Array(b);for(each in a)b[each]=a[each];return b},decompress:function(a){if(!seecret_compression.validateCompressedArray(a))throw seecret_compression.INVALID_COMPRESSED_ARRAY_VALUES_ERROR;if(a[0]==seecret_compression.SMAZ_TYPE)return seecret_compression.desmazify(a.slice(1));if(a[0]==seecret_compression.SHOCO_TYPE)return seecret_compression.deshocotize(a.slice(1))},desmazify:function(a){return smaz.decompress(a)},deshocotize:function(a){a=
seecret_compression.toUint8Array(a);return shoco.decompress(a)},validateCompressedArray:function(a){for(var b=0;b<a.length;b++)if(!Number.isInteger(a[b]))return!1;return!0},convertIndexedObectToArray:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},INVALID_COMPRESSED_ARRAY_VALUES_ERROR:{name:"INVALID_COMPRESSED_ARRAY_VALUES_ERROR",message:"Each value in the array be a Javascript Integer type",toString:function(){return this.name+" : "+this.message}}};
Number.isInteger=Number.isInteger||function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a};
(function(){var h=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["status-template"]=h({compiler:[7,">= 4.0.0"],main:function(c,a,e,g,d){var b;return null!=(b=e.blockHelperMissing.call(a,c.lambda(a,a),{name:".",hash:{},fn:c.program(1,d,0),inverse:c.noop,data:d}))?b:""},1:function(c,a,e,g,d){var b;return'\t\t\t\t\t<div class="basicTweet" style="display:none;">\r\n\t\t\t\t\t\t<div class="leftCol"><a href="https://www.twitter.com/'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.user:
a)?b.screen_name:b,a))+'" target="_blank"><img src="'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.user:a)?b.profile_image_url:b,a))+'" /></a></div>\r\n\t\t\t\t\t\t<div class="rightCol">\r\n\t\t\t\t\t\t\t<div class="profileInfo">\r\n\t\t\t\t\t\t\t\t<div class="user">'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.user:a)?b.name:b,a))+'</div> \r\n\t\t\t\t\t\t\t\t<div class="userLink"><a href="javascript:app.updateUserTimeline(\''+c.escapeExpression(c.lambda(null!=(b=null!=a?a.user:a)?b.screen_name:
b,a))+'\',true)" target="_blank">@'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.user:a)?b.screen_name:b,a))+'</a></div> \r\n\t\t\t\t\t\t\t\t<div class="tweetDate">('+c.escapeExpression((e.tweetShortDate||a&&a.tweetShortDate||e.helperMissing).call(a,null!=a?a.created_at:a,{name:"tweetShortDate",hash:{},data:d}))+')</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="message"> \r\n'+(null!=(b=e["if"].call(a,null!=a?a.seecret:a,{name:"if",hash:{},fn:c.program(2,d,0),inverse:c.program(5,d,0),
data:d}))?b:"")+'\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="footer">\r\n\t\t\t\t\t\t\t\t<div class="tweetActionsDisabled">\r\n\t\t\t\t\t\t\t\t\t<ul class="tweetActions">\r\n\t\t\t\t\t\t\t\t\t\t<li class="reply"><div href="" alt="Reply"></div></li>\r\n\t\t\t\t\t\t\t\t\t\t<li class="retweet"><div href="" alt="ReTweet"></div></li> \x3c!-- if retweet should be \'on\' use class=retweetOn --\x3e\r\n\t\t\t\t\t\t\t\t\t\t<li class="favorite"><div href="" alt="Favorite"></div></li> \x3c!-- if favorite should be \'on\' use class=favoriteOn --\x3e\r\n'+
(null!=(b=e["if"].call(a,null!=a?a.follower:a,{name:"if",hash:{},fn:c.program(7,d,0),inverse:c.noop,data:d}))?b:"")+"\t\t\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n"},2:function(c,a,e,g,d){var b,f;return'\t\t\t\t\t\t\t\t<div class="originalMessage">\r\n'+(null!=(b=e.each.call(a,null!=a?a.covertexts:a,{name:"each",hash:{},fn:c.program(3,d,0),inverse:c.noop,data:d}))?b:"")+'\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="tworse">\r\n\t\t\t\t\t\t\t\t\t<div class="seecretLogo"><div class="icon"></div></div>\r\n\t\t\t\t\t\t\t\t\t<div class="">'+
c.escapeExpression((f=null!=(f=e.seecret||(null!=a?a.seecret:a))?f:e.helperMissing,"function"===typeof f?f.call(a,{name:"seecret",hash:{},data:d}):f))+"</div>\r\n\t\t\t\t\t\t\t\t</div>  \r\n"},3:function(c,a,e,g,d){return'\t\t\t\t\t\t\t\t\t\t<div class="messages">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class="tweetLogo"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>'+c.escapeExpression(c.lambda(a,a))+"</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n"},5:function(c,a,e,g,d){var b;return'\t\t\t\t\t\t\t\t<div class="tworse">\r\n\t\t\t\t\t\t\t\t\t<div class="seecretLogo"></div>\r\n\t\t\t\t\t\t\t\t\t<div class="">'+
c.escapeExpression((b=null!=(b=e.text||(null!=a?a.text:a))?b:e.helperMissing,"function"===typeof b?b.call(a,{name:"text",hash:{},data:d}):b))+"</div>\r\n\t\t\t\t\t\t\t\t</div>  \r\n"},7:function(c,a,e,g,d){var b;return'\t\t\t\t\t\t\t\t\t\t<li class="dm">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class="dm_button3" title="Message" onclick="app.toConversation(\''+c.escapeExpression(c.lambda(null!=(b=null!=a?a.user:a)?b.id_str:b,a))+'\');">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="fa fa-envelope"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n'},
useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["unauthenticated-header-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'\t\t\t<a id="loginButton" href="#" onclick="app.loginToTwitter(); return false;" ><div></div></a>\t\t\r\n'},useData:!0})})();
(function(){var a=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["undecrypted-message-content-template"]=a({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<span class="undecryptedMessagesInfo">Could not decrypt.</span>'},useData:!0})})();
(function(){var g=Handlebars.template;(Handlebars.templates=Handlebars.templates||{})["user-keys-template"]=g({compiler:[7,">= 4.0.0"],main:function(c,a,e,f,d){var b;return"\t\t<div>\r\n"+(null!=(b=e["if"].call(a,null!=a?a.privateKey:a,{name:"if",hash:{},fn:c.program(1,d,0),inverse:c.program(6,d,0),data:d}))?b:"")+"\t\t</div>\r\n"},1:function(c,a,e,f,d){var b;return'\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t\tGenerated on '+c.escapeExpression(c.lambda(null!=(b=null!=a?a.privateKey:a)?b.dateCreatedDisplay:
b,a))+'\r\n\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\tPrivate Key:<br/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p id="privateKeyTextarea">'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.privateKey:a)?b.armored:b,a))+'</p>\r\n\t\t\t\t\t\t\t\t<button onClick="app.copyContentsToClipboard(\'privateKeyTextarea\')" class="button">Copy to clipboard</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t\tPassphrase:<br/>\r\n\t\t\t\t\t\t\t<div>\r\n'+
(null!=(b=e["if"].call(a,null!=(b=null!=a?a.keyOptions:a)?b.passphrase:b,{name:"if",hash:{},fn:c.program(2,d,0),inverse:c.noop,data:d}))?b:"")+(null!=(b=e.unless.call(a,null!=(b=null!=a?a.keyOptions:a)?b.passphrase:b,{name:"unless",hash:{},fn:c.program(4,d,0),inverse:c.noop,data:d}))?b:"")+'\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t<button onClick="app.changePassphrase()" class="button">Change passphrase</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t\tPublic Key:<br/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p id="publicKeyExport">'+
c.escapeExpression(c.lambda(null!=(b=null!=a?a.publicKey:a)?b.armored:b,a))+'</p>\r\n\t\t\t\t\t\t\t\t<button onClick="app.copyContentsToClipboard(\'publicKeyExport\')" class="button">Copy to clipboard</button><p/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\t\t\r\n'},2:function(c,a,e,f,d){var b;return'\t\t\t\t\t\t\t\t<p id="privateKeyPassphrase" style="font-weight:bold">'+c.escapeExpression(c.lambda(null!=(b=null!=a?a.keyOptions:a)?b.passphrase:b,a))+'</p><br/>\r\n\t\t\t\t\t\t\t\t<button onClick="app.copyContentsToClipboard(\'privateKeyPassphrase\')" class="button">Copy to clipboard</button><br/><br/>\r\n\t\t\t\t\t\t\t\t<button onClick="app.deleteSavedPassphrase()" class="button">Delete from device</button> <br/>\r\n\t\t\t\t\t\t\t\t<span class="note">(You\'ll be prompted for it each time.)</span>\t\t\t\t\t\t\t\t\t\t\t\r\n'},
4:function(c,a,e,f,d){return"\t\t\t\t\t\t\t\tPassphrase not saved. \r\n"},6:function(c,a,e,f,d){return'\t\t\t\t\t\t<div class="formRow">\r\n\t\t\t\t\t\t<strong>No private key.  Generate a new one below</strong>\r\n\t\t\t\t\t\t</div>\r\n'},useData:!0})})();
